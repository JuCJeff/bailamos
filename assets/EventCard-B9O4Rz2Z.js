import{j as e,S as h,r as f,q as b,A as y}from"./react-BV_0FzY6.js";import{c as j,B as o,C as x,b as p,a as v,o as C,r as k,q as w}from"./card-DNYd950U.js";import{aM as N,aN as T}from"./vendor-DUxuRwNf.js";import{u as L,G as S,M,I as D}from"./google-maps-CdSZERwW.js";const A=N("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function E({className:r,variant:a,asChild:s=!1,...t}){const n=s?h:"span";return e.jsx(n,{"data-slot":"badge",className:j(A({variant:a}),r),...t})}const I=({tags:r})=>{if(r)return e.jsx("div",{className:"my-4 justify-start",children:r.map(a=>e.jsx(E,{className:"m-1 bg-muted text-foreground",children:a},a))})},g=r=>{const a=r.toLocaleDateString(void 0,{weekday:"long"}),s=r.toLocaleDateString(void 0,{month:"short"}),t=r.getDate(),n=r.getFullYear();return`${a}, ${s} ${t}, ${n}`},c=r=>r.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}),B=({label:r,startTime:a,endTime:s})=>e.jsx("div",{className:"flex flex-col text-center mt-2 gap-2",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-md text-primary font-bold",children:r}),e.jsxs("p",{className:"whitespace-pre-line text-sm",children:[c(a)," to"," ",c(s)]})]})}),_=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]}],G={styles:_,disableDefaultUI:!0,mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1},P=["places","marker"],m={lat:43.0722,lng:-89.4008},$=({location:r})=>{const[a,s]=f.useState(!1),t={lat:r.lat??m.lat,lng:r.lng??m.lng},{isLoaded:n}=L({googleMapsApiKey:"AIzaSyBuImOK6KWeeg3f71cgw6R-ssJj4arkAjk",libraries:P}),i=()=>{window.open(r.googleMapsUrl,"_blank","noopener,noreferrer")};return n?e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h3",{className:"text-md text-primary font-bold mt-2",children:"Location"}),e.jsx(o,{variant:"link",className:" text-sm",onClick:i,children:e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("p",{className:"max-sm:underline",children:r.propertyName})})}),e.jsx("div",{className:"w-full h-72 rounded-md border mt-2",children:e.jsxs(S,{center:t,zoom:15,mapContainerClassName:"w-full h-full rounded-2xl",options:G,children:[e.jsx(M,{position:{lat:t.lat,lng:t.lng},onClick:()=>s(!0)}),a&&e.jsx(D,{position:{lat:t.lat,lng:t.lng},onCloseClick:()=>s(!1),children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h3",{className:"font-semibold text-sm text-primary",children:r.propertyName}),e.jsx("p",{className:"text-sm text-gray-500",children:r.address}),e.jsx("a",{href:r.googleMapsUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary underline text-sm",children:"View on Google Maps"})]})})]})})]}):e.jsx("p",{children:"Loading map..."})},R=[{id:"bachata",label:"Bachata"},{id:"salsa",label:"Salsa"},{id:"merengue",label:"Merengue"},{id:"cumbia",label:"Cumbia"},{id:"zouk",label:"Zouk"}],Z=["18+","21+","All Ages","Complimentary Lessons","DJ","Drink Specials","Event Photography","Full Bar","Guest DJ","Guest Instructor","House Event","Live Band","Studio Event"],O=[{name:"Bachata",bgColor:"#22c55e",shadowColor:"rgba(34, 197, 94, 0.3)"},{name:"Salsa",bgColor:"#f97316",shadowColor:"rgba(249, 115, 22, 0.3)"},{name:"Merengue",bgColor:"#f43f5e",shadowColor:"rgba(244, 63, 94, 0.3)"},{name:"Cumbia",bgColor:"#3b82f6",shadowColor:"rgba(59, 130, 246, 0.3)"},{name:"Zouk",bgColor:"#8b5cf6",shadowColor:"rgba(139, 92, 246, 0.3)"},{name:"Others",bgColor:"#6b7280",shadowColor:"rgba(107, 114, 128, 0.3)"}];function z(r){return O.find(a=>a.name===r.name)||null}const F=({musicList:r})=>{const a=Math.max(...r.map(t=>t.percentage)),s=r.filter(t=>t.percentage>0).map(t=>{const n=z(t);return n?{label:t.name,percentage:t.percentage,color:n.bgColor}:null}).filter(Boolean);return e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-md font-bold",children:"Music Distribution"}),e.jsx(x,{className:"mt-2",children:e.jsx(p,{className:"space-y-4 px-4",children:s.map(t=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:t.label}),e.jsxs("span",{className:"text-muted-foreground",children:[t.percentage,"%"]})]}),e.jsx("div",{className:"relative h-4 w-full overflow-hidden",children:e.jsx("div",{className:"absolute h-full rounded-sm",style:{width:`${t.percentage/a*100}%`,backgroundColor:t.color}})})]},t.label))})})]})},U=({event:r})=>{var n;const a={title:`${r.title} - Dance Social`,description:r.description??"",start:r.startTime,end:r.endTime,location:((n=r.location)==null?void 0:n.address)??""},s=T(a),t=()=>{window.open(s,"_blank","noopener,noreferrer")};return e.jsxs(o,{variant:"outline",onClick:t,className:"max-sm:text-primary",children:[e.jsx(b,{})," Add to Google Calendar"]})},W=({link:r})=>{const a=()=>{window.open(r,"_blank","noopener,noreferrer")};return e.jsx(o,{variant:"link",onClick:a,className:"text-sm max-sm:underline",children:"Event Link"})},J=({createdAt:r,socialLink:a,websiteLink:s})=>{const t=()=>{window.open(s,"_blank","noopener,noreferrer")},n=()=>{window.open(a,"_blank","noopener,noreferrer")};return e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s&&e.jsxs("div",{className:"text-center mt-2",children:[e.jsx("h3",{className:"text-md text-primary font-bold",children:"Organizer website"}),e.jsx(o,{variant:"link",onClick:t,children:s})]}),a&&e.jsx(o,{variant:"link","aria-label":"Instagram Link",onClick:n,children:e.jsx(y,{})}),e.jsxs("p",{className:"text-xs tracking-tight",children:["Posted on ",g(r)," ",c(r)]})]})},Y=({social:r})=>{var s,t;const a=r.musicPercentages?(()=>{const n=Object.values(r.musicPercentages).filter(l=>l.percentage>0),i=n.find(l=>l.name.toLowerCase()==="others"),d=n.filter(l=>l.name.toLowerCase()!=="others").sort((l,u)=>u.percentage-l.percentage);return i?[...d,i]:d})():[];return e.jsxs(x,{className:"break-inside-avoid mb-4 mx-2 shadow hover:border-yellow-500 hover:shadow-[0_0_1em_rgba(255,223,0,0.6)] transition-all duration-250 ease-in-out",children:[e.jsxs(v,{children:[e.jsx(C,{className:"text-2xl",children:r.title}),e.jsxs(k,{className:"flex flex-col",children:[e.jsx("span",{children:g(r.startTime)}),e.jsxs("span",{children:[(s=r.location)==null?void 0:s.city,", ",(t=r.location)==null?void 0:t.state]})]})]}),e.jsxs(p,{children:[e.jsx(U,{event:r}),r.imageUrl&&e.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-full rounded mt-2"}),e.jsx(I,{tags:r.eventTags}),e.jsxs("div",{className:"text-center mt-2 whitespace-pre-line",children:[e.jsx("h3",{className:"text-md font-bold",children:"Details"}),e.jsx("p",{className:"text-sm/6",children:r.description})]}),e.jsx("div",{children:r.link&&e.jsx(W,{link:r.link})}),e.jsx("div",{className:"flex flex-col justify-center",children:e.jsx(B,{label:"Time",startTime:r.startTime,endTime:r.endTime})}),e.jsxs("div",{className:"text-center mt-2",children:[e.jsx("h3",{className:"text-md text-primary font-bold",children:"Cover"}),e.jsx("p",{children:r.price?`$${r.price}`:"Free"})]}),r.location&&e.jsx($,{location:r.location}),a.length>0&&e.jsx(F,{musicList:a})]}),e.jsx(w,{children:e.jsx(J,{createdAt:r.createdAt,socialLink:r.organizerSocialLink,websiteLink:r.websiteLink})})]})};export{Y as E,R as a,Z as e,G as m};
