import{j as t,r as g,N as h,X as f}from"./react-efffxLy7.js";import{B as o,C as m,g as x,e as u,f as y,i as j,h as b}from"./card-DOCX8F0k.js";import{u as C,G as k,M as N,I as w}from"./google-maps-BCc-B1p4.js";import{W as v}from"./vendor-DCPdCeUv.js";const c=e=>{const s=e.toLocaleDateString(void 0,{weekday:"long"}),a=e.toLocaleDateString(void 0,{month:"short"}),r=e.getDate(),l=e.getFullYear();return`${s}, ${a} ${r} ${l}`},i=e=>e.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}),T=({label:e,startTime:s,endTime:a})=>t.jsx("div",{className:"flex flex-col text-center mt-2 gap-2",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-md text-primary font-bold",children:e}),t.jsxs("p",{className:"whitespace-pre-line text-sm",children:[i(s)," to"," ",i(a)]})]})}),L=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]}],S={styles:L,disableDefaultUI:!0,mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1},M=["places","marker"],d={lat:43.0722,lng:-89.4008},D=({location:e})=>{const[s,a]=g.useState(!1),r={lat:e.lat??d.lat,lng:e.lng??d.lng},{isLoaded:l}=C({googleMapsApiKey:"AIzaSyBuImOK6KWeeg3f71cgw6R-ssJj4arkAjk",libraries:M}),n=()=>{window.open(e.googleMapsUrl,"_blank","noopener,noreferrer")};return l?t.jsxs("div",{className:"flex flex-col",children:[t.jsx("h3",{className:"text-md text-primary font-bold mt-2",children:"Location"}),t.jsx(o,{variant:"link",className:" text-sm",onClick:n,children:t.jsx("div",{className:"flex items-center gap-1",children:t.jsx("p",{className:"max-sm:underline",children:e.propertyName})})}),t.jsx("div",{className:"w-full h-72 rounded-md border mt-2",children:t.jsxs(k,{center:r,zoom:15,mapContainerClassName:"w-full h-full rounded-2xl",options:S,children:[t.jsx(N,{position:{lat:r.lat,lng:r.lng},onClick:()=>a(!0)}),s&&t.jsx(w,{position:{lat:r.lat,lng:r.lng},onCloseClick:()=>a(!1),children:t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsx("h3",{className:"font-semibold text-md text-primary",children:e.propertyName}),t.jsx("p",{className:"text-sm text-gray-500",children:e.address}),e.city&&e.state&&t.jsxs("p",{className:"text-sm text-gray-400",children:[e.city,", ",e.state]}),t.jsx("a",{href:e.googleMapsUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary underline text-sm",children:"View on Google Maps"})]})})]})})]}):t.jsx("p",{children:"Loading map..."})},U=[{id:"bachata",label:"Bachata"},{id:"salsa",label:"Salsa"},{id:"merengue",label:"Merengue"},{id:"cumbia",label:"Cumbia"},{id:"zouk",label:"Zouk"}],A=[{name:"Bachata",bgColor:"#22c55e",shadowColor:"rgba(34, 197, 94, 0.3)"},{name:"Salsa",bgColor:"#f97316",shadowColor:"rgba(249, 115, 22, 0.3)"},{name:"Merengue",bgColor:"#f43f5e",shadowColor:"rgba(244, 63, 94, 0.3)"},{name:"Cumbia",bgColor:"#3b82f6",shadowColor:"rgba(59, 130, 246, 0.3)"},{name:"Zouk",bgColor:"#8b5cf6",shadowColor:"rgba(139, 92, 246, 0.3)"},{name:"Others",bgColor:"#6b7280",shadowColor:"rgba(107, 114, 128, 0.3)"}];function I(e){return A.find(s=>s.name===e.name)||null}const _=({musicList:e})=>{const s=Math.max(...e.map(r=>r.percentage)),a=e.filter(r=>r.percentage>0).map(r=>{const l=I(r);return l?{label:r.name,percentage:r.percentage,color:l.bgColor}:null}).filter(Boolean);return t.jsxs("div",{className:"mt-4",children:[t.jsx("h3",{className:"text-md font-bold",children:"Music Distribution"}),t.jsx(m,{className:"mt-2",children:t.jsx(x,{className:"space-y-4 px-4",children:a.map(r=>t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"font-medium",children:r.label}),t.jsxs("span",{className:"text-muted-foreground",children:[r.percentage,"%"]})]}),t.jsx("div",{className:"relative h-4 w-full overflow-hidden",children:t.jsx("div",{className:"absolute h-full rounded-sm",style:{width:`${r.percentage/s*100}%`,backgroundColor:r.color}})})]},r.label))})})]})},$=({event:e})=>{var l;const s={title:`${e.title} - Dance Social`,description:e.description??"",start:e.startTime,end:e.endTime,location:((l=e.location)==null?void 0:l.address)??""},a=v(s),r=()=>{window.open(a,"_blank","noopener,noreferrer")};return t.jsxs(o,{variant:"outline",onClick:r,className:"max-sm:text-primary",children:[t.jsx(h,{})," Add to Google Calendar"]})},E=({link:e})=>{const s=()=>{window.open(e,"_blank","noopener,noreferrer")};return t.jsx(o,{variant:"link",onClick:s,className:"text-sm max-sm:underline",children:"Event Link"})},O=({link:e})=>{const s=()=>{window.open(e,"_blank","noopener,noreferrer")};return t.jsx(o,{variant:"link",onClick:s,children:t.jsx(f,{})})},W=({social:e})=>{const s=e.musicPercentages?(()=>{const a=Object.values(e.musicPercentages).filter(n=>n.percentage>0),r=a.find(n=>n.name.toLowerCase()==="others"),l=a.filter(n=>n.name.toLowerCase()!=="others").sort((n,p)=>p.percentage-n.percentage);return r?[...l,r]:l})():[];return t.jsxs(m,{className:"break-inside-avoid mb-4 mx-2 shadow hover:border-yellow-500 hover:shadow-[0_0_1em_rgba(255,223,0,0.6)] transition-all duration-250 ease-in-out",children:[t.jsxs(u,{children:[t.jsx(y,{className:"text-2xl",children:e.title}),t.jsx(j,{children:c(e.startTime)})]}),t.jsxs(x,{children:[t.jsx($,{event:e}),e.imageUrl&&t.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full rounded mt-2"}),t.jsxs("div",{className:"text-center mt-2 whitespace-pre-line",children:[t.jsx("h3",{className:"text-md font-bold",children:"Details"}),t.jsx("p",{className:"text-sm/6",children:e.description})]}),t.jsx("div",{children:e.link&&t.jsx(E,{link:e.link})}),t.jsx("div",{className:"flex flex-col justify-center",children:t.jsx(T,{label:"Time",startTime:e.startTime,endTime:e.endTime})}),t.jsxs("div",{className:"text-center mt-2",children:[t.jsx("h3",{className:"text-md text-primary font-bold",children:"Cover"}),t.jsx("p",{children:e.price?`$${e.price}`:"Free"})]}),e.location&&t.jsx(D,{location:e.location}),s.length>0&&t.jsx(_,{musicList:s})]}),t.jsx(b,{children:t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.organizerSocialLink&&t.jsx(O,{link:e.organizerSocialLink}),t.jsxs("p",{className:"text-xs tracking-tight",children:["Posted on ",c(e.createdAt)," ",i(e.createdAt)]})]})})]})};export{W as E,U as a,S as m};
