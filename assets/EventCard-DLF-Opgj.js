import{j as e,r as g,O as h,X as f}from"./react-C9jf0bec.js";import{B as o,C as m,g as x,e as u,f as y,i as j,h as b}from"./card-s4FEL-Md.js";import{u as C,G as k,M as w,I as N}from"./google-maps-njwTrMll.js";import{W as v}from"./vendor-DCPdCeUv.js";const c=r=>{const a=r.toLocaleDateString(void 0,{weekday:"long"}),s=r.toLocaleDateString(void 0,{month:"short"}),t=r.getDate(),l=r.getFullYear();return`${a}, ${s} ${t} ${l}`},i=r=>r.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}),T=({label:r,startTime:a,endTime:s})=>e.jsx("div",{className:"flex flex-col text-center mt-2 gap-2",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-md text-primary font-bold",children:r}),e.jsxs("p",{className:"whitespace-pre-line text-sm",children:[i(a)," to"," ",i(s)]})]})}),L=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]}],S={styles:L,disableDefaultUI:!0,mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1},M=["places","marker"],d={lat:43.0722,lng:-89.4008},D=({location:r})=>{const[a,s]=g.useState(!1),t={lat:r.lat??d.lat,lng:r.lng??d.lng},{isLoaded:l}=C({googleMapsApiKey:"AIzaSyBuImOK6KWeeg3f71cgw6R-ssJj4arkAjk",libraries:M}),n=()=>{window.open(r.googleMapsUrl,"_blank","noopener,noreferrer")};return l?e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h3",{className:"text-md text-primary font-bold mt-2",children:"Location"}),e.jsx(o,{variant:"link",className:" text-sm",onClick:n,children:e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("p",{className:"max-sm:underline",children:r.propertyName})})}),e.jsx("div",{className:"w-full h-72 rounded-md border mt-2",children:e.jsxs(k,{center:t,zoom:15,mapContainerClassName:"w-full h-full rounded-2xl",options:S,children:[e.jsx(w,{position:{lat:t.lat,lng:t.lng},onClick:()=>s(!0)}),a&&e.jsx(N,{position:{lat:t.lat,lng:t.lng},onCloseClick:()=>s(!1),children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h3",{className:"font-semibold text-sm text-primary",children:r.propertyName}),e.jsx("p",{className:"text-sm text-gray-500",children:r.address}),e.jsx("a",{href:r.googleMapsUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary underline text-sm",children:"View on Google Maps"})]})})]})})]}):e.jsx("p",{children:"Loading map..."})},U=[{id:"bachata",label:"Bachata"},{id:"salsa",label:"Salsa"},{id:"merengue",label:"Merengue"},{id:"cumbia",label:"Cumbia"},{id:"zouk",label:"Zouk"}],A=[{name:"Bachata",bgColor:"#22c55e",shadowColor:"rgba(34, 197, 94, 0.3)"},{name:"Salsa",bgColor:"#f97316",shadowColor:"rgba(249, 115, 22, 0.3)"},{name:"Merengue",bgColor:"#f43f5e",shadowColor:"rgba(244, 63, 94, 0.3)"},{name:"Cumbia",bgColor:"#3b82f6",shadowColor:"rgba(59, 130, 246, 0.3)"},{name:"Zouk",bgColor:"#8b5cf6",shadowColor:"rgba(139, 92, 246, 0.3)"},{name:"Others",bgColor:"#6b7280",shadowColor:"rgba(107, 114, 128, 0.3)"}];function I(r){return A.find(a=>a.name===r.name)||null}const O=({musicList:r})=>{const a=Math.max(...r.map(t=>t.percentage)),s=r.filter(t=>t.percentage>0).map(t=>{const l=I(t);return l?{label:t.name,percentage:t.percentage,color:l.bgColor}:null}).filter(Boolean);return e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-md font-bold",children:"Music Distribution"}),e.jsx(m,{className:"mt-2",children:e.jsx(x,{className:"space-y-4 px-4",children:s.map(t=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium",children:t.label}),e.jsxs("span",{className:"text-muted-foreground",children:[t.percentage,"%"]})]}),e.jsx("div",{className:"relative h-4 w-full overflow-hidden",children:e.jsx("div",{className:"absolute h-full rounded-sm",style:{width:`${t.percentage/a*100}%`,backgroundColor:t.color}})})]},t.label))})})]})},_=({event:r})=>{var l;const a={title:`${r.title} - Dance Social`,description:r.description??"",start:r.startTime,end:r.endTime,location:((l=r.location)==null?void 0:l.address)??""},s=v(a),t=()=>{window.open(s,"_blank","noopener,noreferrer")};return e.jsxs(o,{variant:"outline",onClick:t,className:"max-sm:text-primary",children:[e.jsx(h,{})," Add to Google Calendar"]})},$=({link:r})=>{const a=()=>{window.open(r,"_blank","noopener,noreferrer")};return e.jsx(o,{variant:"link",onClick:a,className:"text-sm max-sm:underline",children:"Event Link"})},E=({link:r})=>{const a=()=>{window.open(r,"_blank","noopener,noreferrer")};return e.jsx(o,{variant:"link",onClick:a,children:e.jsx(f,{})})},W=({social:r})=>{const a=r.musicPercentages?(()=>{const s=Object.values(r.musicPercentages).filter(n=>n.percentage>0),t=s.find(n=>n.name.toLowerCase()==="others"),l=s.filter(n=>n.name.toLowerCase()!=="others").sort((n,p)=>p.percentage-n.percentage);return t?[...l,t]:l})():[];return e.jsxs(m,{className:"break-inside-avoid mb-4 mx-2 shadow hover:border-yellow-500 hover:shadow-[0_0_1em_rgba(255,223,0,0.6)] transition-all duration-250 ease-in-out",children:[e.jsxs(u,{children:[e.jsx(y,{className:"text-2xl",children:r.title}),e.jsx(j,{children:c(r.startTime)})]}),e.jsxs(x,{children:[e.jsx(_,{event:r}),r.imageUrl&&e.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-full rounded mt-2"}),e.jsxs("div",{className:"text-center mt-2 whitespace-pre-line",children:[e.jsx("h3",{className:"text-md font-bold",children:"Details"}),e.jsx("p",{className:"text-sm/6",children:r.description})]}),e.jsx("div",{children:r.link&&e.jsx($,{link:r.link})}),e.jsx("div",{className:"flex flex-col justify-center",children:e.jsx(T,{label:"Time",startTime:r.startTime,endTime:r.endTime})}),e.jsxs("div",{className:"text-center mt-2",children:[e.jsx("h3",{className:"text-md text-primary font-bold",children:"Cover"}),e.jsx("p",{children:r.price?`$${r.price}`:"Free"})]}),r.location&&e.jsx(D,{location:r.location}),a.length>0&&e.jsx(O,{musicList:a})]}),e.jsx(b,{children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[r.organizerSocialLink&&e.jsx(E,{link:r.organizerSocialLink}),e.jsxs("p",{className:"text-xs tracking-tight",children:["Posted on ",c(r.createdAt)," ",i(r.createdAt)]})]})})]})};export{W as E,U as a,S as m};
