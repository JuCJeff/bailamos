import{j as e,r as g,Z as I,_ as K,$,a0 as A,a1 as O}from"./react-C9ssMDIo.js";import{B as v,c as u,C as N,e as T,f as _,g as L,i as D,h as B}from"./card-DyllIvjY.js";import{u as G,G as U,M as R,I as W}from"./google-maps-4skNy_88.js";import{aY as z}from"./vendor-DYv8SFiw.js";const H=({startTime:r})=>{const s=t=>t.toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric",year:"numeric"}),n=t=>t.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"});return e.jsx("div",{className:"flex flex-col text-center mt-4 gap-2",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-bold",children:"Start Time"}),e.jsxs("p",{className:"whitespace-pre-line",children:[s(r),`
`,n(r)]})]})})},Z=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]}],q={styles:Z,disableDefaultUI:!0,mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1},J=["places","marker"],w={lat:43.0722,lng:-89.4008},V=({location:r})=>{const[s,n]=g.useState(!1),t={lat:r.lat??w.lat,lng:r.lng??w.lng},{isLoaded:a}=G({googleMapsApiKey:"AIzaSyBuImOK6KWeeg3f71cgw6R-ssJj4arkAjk",libraries:J}),d=()=>{window.open(r.googleMapsUrl,"_blank","noopener,noreferrer")};return a?e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h3",{className:"text-md font-bold",children:"Location"}),e.jsx(v,{variant:"link",className:"text-md",onClick:d,children:r.propertyName}),e.jsx("div",{className:"w-full h-72 rounded-md border mt-2",children:e.jsxs(U,{center:t,zoom:15,mapContainerClassName:"w-full h-full rounded-2xl",options:q,children:[e.jsx(R,{position:{lat:t.lat,lng:t.lng},onClick:()=>n(!0)}),s&&e.jsx(W,{position:{lat:t.lat,lng:t.lng},onCloseClick:()=>n(!1),children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h3",{className:"font-semibold text-md text-primary",children:r.propertyName}),e.jsx("p",{className:"text-sm text-gray-500",children:r.address}),r.city&&r.state&&e.jsxs("p",{className:"text-sm text-gray-400",children:[r.city,", ",r.state]}),e.jsx("a",{href:r.googleMapsUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary underline text-sm",children:"View on Google Maps"})]})})]})})]}):e.jsx("p",{children:"Loading map..."})},F={light:"",dark:".dark"},S=g.createContext(null);function M(){const r=g.useContext(S);if(!r)throw new Error("useChart must be used within a <ChartContainer />");return r}function Y({id:r,className:s,children:n,config:t,...a}){const d=g.useId(),o=`chart-${r||d.replace(/:/g,"")}`;return e.jsx(S.Provider,{value:{config:t},children:e.jsxs("div",{"data-slot":"chart","data-chart":o,className:u("[&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border flex aspect-video justify-center text-xs [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden",s),...a,children:[e.jsx(Q,{id:o,config:t}),e.jsx($,{children:n})]})})}const Q=({id:r,config:s})=>{const n=Object.entries(s).filter(([,t])=>t.theme||t.color);return n.length?e.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(F).map(([t,a])=>`
${a} [data-chart=${r}] {
${n.map(([d,o])=>{var c;const h=((c=o.theme)==null?void 0:c[t])||o.color;return h?`  --color-${d}: ${h};`:null}).join(`
`)}
}
`).join(`
`)}}):null},X=I;function ee({active:r,payload:s,className:n,indicator:t="dot",hideLabel:a=!1,hideIndicator:d=!1,label:o,labelFormatter:h,labelClassName:c,formatter:m,color:P,nameKey:E,labelKey:b}){const{config:p}=M(),k=g.useMemo(()=>{var f;if(a||!(s!=null&&s.length))return null;const[l]=s,y=`${b||(l==null?void 0:l.dataKey)||(l==null?void 0:l.name)||"value"}`,x=C(p,l,y),i=!b&&typeof o=="string"?((f=p[o])==null?void 0:f.label)||o:x==null?void 0:x.label;return h?e.jsx("div",{className:u("font-medium",c),children:h(i,s)}):i?e.jsx("div",{className:u("font-medium",c),children:i}):null},[o,h,s,a,c,p,b]);if(!r||!(s!=null&&s.length))return null;const j=s.length===1&&t!=="dot";return e.jsxs("div",{className:u("border-border/50 bg-background grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl",n),children:[j?null:k,e.jsx("div",{className:"grid gap-1.5",children:s.map((l,y)=>{const x=`${E||l.name||l.dataKey||"value"}`,i=C(p,l,x),f=P||l.payload.fill||l.color;return e.jsx("div",{className:u("[&>svg]:text-muted-foreground flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5",t==="dot"&&"items-center"),children:m&&(l==null?void 0:l.value)!==void 0&&l.name?m(l.value,l.name,l,y,l.payload):e.jsxs(e.Fragment,{children:[i!=null&&i.icon?e.jsx(i.icon,{}):!d&&e.jsx("div",{className:u("shrink-0 rounded-[2px] border-(--color-border) bg-(--color-bg)",{"h-2.5 w-2.5":t==="dot","w-1":t==="line","w-0 border-[1.5px] border-dashed bg-transparent":t==="dashed","my-0.5":j&&t==="dashed"}),style:{"--color-bg":f,"--color-border":f}}),e.jsxs("div",{className:u("flex flex-1 justify-between leading-none",j?"items-end":"items-center"),children:[e.jsxs("div",{className:"grid gap-1.5",children:[j?k:null,e.jsx("span",{className:"text-muted-foreground",children:(i==null?void 0:i.label)||l.name})]}),l.value&&e.jsx("span",{className:"text-foreground font-mono font-medium tabular-nums",children:l.value.toLocaleString()})]})]})},l.dataKey)})})]})}const re=K;function te({className:r,hideIcon:s=!1,payload:n,verticalAlign:t="bottom",nameKey:a}){const{config:d}=M();return n!=null&&n.length?e.jsx("div",{className:u("flex items-center justify-center gap-4",t==="top"?"pb-3":"pt-3",r),children:n.map(o=>{var m;const h=`${a||o.dataKey||"value"}`,c=C(d,o,h);return e.jsxs("div",{className:u("[&>svg]:text-muted-foreground flex flex-col items-center [&>svg]:h-3 [&>svg]:w-3"),children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[c!=null&&c.icon&&!s?e.jsx(c.icon,{}):e.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:o.color}}),e.jsx("span",{children:c==null?void 0:c.label})]}),e.jsx("span",{children:typeof((m=o==null?void 0:o.payload)==null?void 0:m.value)=="number"&&e.jsxs("span",{className:"text-muted-foreground font-mono",children:[o.payload.value,"%"]})})]},o.value)})}):null}function C(r,s,n){if(typeof s!="object"||s===null)return;const t="payload"in s&&typeof s.payload=="object"&&s.payload!==null?s.payload:void 0;let a=n;return n in s&&typeof s[n]=="string"?a=s[n]:t&&n in t&&typeof t[n]=="string"&&(a=t[n]),a in r?r[a]:r[n]}const he=[{id:"bachata",label:"Bachata"},{id:"salsa",label:"Salsa"},{id:"merengue",label:"Merengue"},{id:"cumbia",label:"Cumbia"},{id:"zouk",label:"Zouk"}],se=[{name:"Bachata",bgColor:"#22c55e",shadowColor:"rgba(34, 197, 94, 0.3)"},{name:"Salsa",bgColor:"#f97316",shadowColor:"rgba(249, 115, 22, 0.3)"},{name:"Merengue",bgColor:"#f43f5e",shadowColor:"rgba(244, 63, 94, 0.3)"},{name:"Cumbia",bgColor:"#3b82f6",shadowColor:"rgba(59, 130, 246, 0.3)"},{name:"Zouk",bgColor:"#8b5cf6",shadowColor:"rgba(139, 92, 246, 0.3)"},{name:"Others",bgColor:"#6b7280",shadowColor:"rgba(107, 114, 128, 0.3)"}];function ne(r){return se.find(s=>s.name===r.name)||null}const ae=({musicList:r})=>{const s=r.filter(t=>t.percentage>0).map(t=>{const a=ne(t);return a?{key:t.name.toLowerCase().replace(/\s+/g,"_"),label:t.name,value:t.percentage,fill:a.bgColor}:null}).filter(Boolean),n=s.reduce((t,a)=>(t[a.key]={label:a.label,color:a.fill},t),{});return e.jsxs(N,{className:"flex flex-col mt-6",children:[e.jsx(T,{className:"items-center pb-0",children:e.jsx(_,{children:"Music Percentages"})}),e.jsx(L,{className:"flex-1 pb-0",children:e.jsx(Y,{config:n,className:"mx-auto aspect-square max-h-[300px]",children:e.jsxs(A,{children:[e.jsx(X,{content:e.jsx(ee,{nameKey:"label"})}),e.jsx(O,{data:s,dataKey:"value",nameKey:"label",cx:"50%",cy:"50%",outerRadius:"80%"}),e.jsx(re,{content:e.jsx(te,{nameKey:"key"}),className:"-translate-y-2 flex-wrap gap-2 [&>*]:basis-1/4 [&>*]:justify-center"})]})})})]})},le=({event:r})=>{var a;const s={title:r.title,description:r.description?r.description:"",start:r.startTime,end:r.endTime,location:((a=r.location)==null?void 0:a.address)??""},n=z(s),t=()=>{window.open(n,"_blank","noopener,noreferrer")};return e.jsx(v,{variant:"outline",onClick:t,className:"mt-4",children:"Add to Google Calendar"})},oe=({link:r})=>{const s=()=>{window.open(r,"_blank","noopener,noreferrer")};return e.jsx(v,{variant:"link",onClick:s,className:"text-md",children:"Event Link"})},me=({social:r})=>{const s=r.musicPercentages?Object.values(r.musicPercentages).filter(n=>n.percentage>0).sort((n,t)=>t.percentage-n.percentage):[];return e.jsxs(N,{className:"break-inside-avoid mb-4 mx-2 shadow hover:border-yellow-500 hover:shadow-[0_0_1em_rgba(255,223,0,0.6)] transition-all duration-250 ease-in-out",children:[e.jsxs(T,{children:[e.jsx(_,{className:"text-2xl",children:r.title}),e.jsx(D,{children:r.startTime.toLocaleString()})]}),e.jsxs(L,{children:[r.imageUrl&&e.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-full rounded mt-2"}),e.jsx(H,{startTime:r.startTime}),e.jsxs("div",{className:"text-center mt-2 whitespace-pre-line",children:[e.jsx("h3",{className:"text-md font-bold",children:"Details"}),r.description]}),e.jsx("div",{children:r.link&&e.jsx(oe,{link:r.link})}),r.location&&e.jsx(V,{location:r.location}),s.length>0&&e.jsx(ae,{musicList:s}),e.jsx(le,{event:r})]}),e.jsx(B,{children:e.jsxs("p",{children:["Posted at ",r.createdAt.toLocaleString()]})})]})};export{me as E,he as a,q as m};
