import{j as r,S as te,e as re,I as ne}from"./ui-vendor-CeVeEGKm.js";import{a as se,B as P,C as q,d as Q,b as ae,q as ie,t as oe,s as le}from"./card-CX-V3Izr.js";import{F as ce}from"./utils-vendor-D30coVKW.js";import{r as ue}from"./react-vendor-OFIyUoOe.js";import{u as de,G as fe,M as he,I as me}from"./maps-vendor-DaqL9Vb0.js";const ge=ce("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function pe({className:e,variant:i,asChild:d=!1,...n}){const f=d?te:"span";return r.jsx(f,{"data-slot":"badge",className:se(ge({variant:i}),e),...n})}const xe=({tags:e})=>{if(e)return r.jsx("div",{className:"my-4 justify-start",children:e.map(i=>r.jsx(pe,{className:"m-1 bg-muted text-foreground",children:i},i))})},X=e=>{const i=e.toLocaleDateString(void 0,{weekday:"long"}),d=e.toLocaleDateString(void 0,{month:"short"}),n=e.getDate(),f=e.getFullYear();return`${i}, ${d} ${n}, ${f}`},Z=e=>e.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}),ye=({label:e,startTime:i,endTime:d})=>r.jsx("div",{className:"flex flex-col text-center mt-2 gap-2",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-md text-primary font-bold",children:e}),r.jsxs("p",{className:"whitespace-pre-line text-sm",children:[Z(i)," to"," ",Z(d)]})]})}),ve=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]}],$e={styles:ve,disableDefaultUI:!0,mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1},be=["places","marker"],K={lat:43.0722,lng:-89.4008},je=({location:e})=>{const[i,d]=ue.useState(!1),n={lat:e.lat??K.lat,lng:e.lng??K.lng},{isLoaded:f}=de({googleMapsApiKey:"AIzaSyBuImOK6KWeeg3f71cgw6R-ssJj4arkAjk",libraries:be}),m=()=>{window.open(e.googleMapsUrl,"_blank","noopener,noreferrer")};return f?r.jsxs("div",{className:"flex flex-col",children:[r.jsx("h3",{className:"text-md text-primary font-bold mt-2",children:"Location"}),r.jsx(P,{variant:"link",className:" text-sm",onClick:m,children:r.jsx("div",{className:"flex items-center gap-1",children:r.jsx("p",{className:"max-sm:underline",children:e.propertyName})})}),r.jsx("div",{className:"w-full h-72 rounded-md border mt-2",children:r.jsxs(fe,{center:n,zoom:15,mapContainerClassName:"w-full h-full rounded-2xl",options:$e,children:[r.jsx(he,{position:{lat:n.lat,lng:n.lng},onClick:()=>d(!0)}),i&&r.jsx(me,{position:{lat:n.lat,lng:n.lng},onCloseClick:()=>d(!1),children:r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("h3",{className:"font-semibold text-sm text-primary",children:e.propertyName}),r.jsx("p",{className:"text-sm text-gray-500",children:e.address}),r.jsx("a",{href:e.googleMapsUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary underline text-sm",children:"View on Google Maps"})]})})]})})]}):r.jsx("p",{children:"Loading map..."})},We=[{id:"bachata",label:"Bachata"},{id:"salsa",label:"Salsa"},{id:"merengue",label:"Merengue"},{id:"cumbia",label:"Cumbia"},{id:"zouk",label:"Zouk"}],Pe=["18+","21+","All Ages","Complimentary Lessons","DJ","Drink Specials","Event Photography","Full Bar","Guest DJ","Guest Instructor","House Event","Live Band","Studio Event"],we=[{name:"Bachata",bgColor:"#22c55e",shadowColor:"rgba(34, 197, 94, 0.3)"},{name:"Salsa",bgColor:"#f97316",shadowColor:"rgba(249, 115, 22, 0.3)"},{name:"Merengue",bgColor:"#f43f5e",shadowColor:"rgba(244, 63, 94, 0.3)"},{name:"Cumbia",bgColor:"#3b82f6",shadowColor:"rgba(59, 130, 246, 0.3)"},{name:"Zouk",bgColor:"#8b5cf6",shadowColor:"rgba(139, 92, 246, 0.3)"},{name:"Others",bgColor:"#6b7280",shadowColor:"rgba(107, 114, 128, 0.3)"}];function De(e){return we.find(i=>i.name===e.name)||null}const Ce=({musicList:e})=>{const i=Math.max(...e.map(n=>n.percentage)),d=e.filter(n=>n.percentage>0).map(n=>{const f=De(n);return f?{label:n.name,percentage:n.percentage,color:f.bgColor}:null}).filter(Boolean);return r.jsxs("div",{className:"mt-4",children:[r.jsx("h3",{className:"text-md font-bold",children:"Music Distribution"}),r.jsx(q,{className:"mt-2",children:r.jsx(Q,{className:"space-y-4 px-4",children:d.map(n=>r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"font-medium",children:n.label}),r.jsxs("span",{className:"text-muted-foreground",children:[n.percentage,"%"]})]}),r.jsx("div",{className:"relative h-4 w-full overflow-hidden",children:r.jsx("div",{className:"absolute h-full rounded-sm",style:{width:`${n.percentage/i*100}%`,backgroundColor:n.color}})})]},n.label))})})]})};function R(){return R=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var d=arguments[i];for(var n in d)Object.prototype.hasOwnProperty.call(d,n)&&(e[n]=d[n])}return e},R.apply(this,arguments)}function ee(e){var i={exports:{}};return e(i,i.exports),i.exports}var W=ee(function(e,i){e.exports=function(){var d="millisecond",n="second",f="minute",m="hour",$="day",j="week",y="month",U="quarter",D="year",C="date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},k=function(o,s,t){var l=String(o);return!l||l.length>=s?o:""+Array(s+1-l.length).join(t)+o},S={s:k,z:function(o){var s=-o.utcOffset(),t=Math.abs(s),l=Math.floor(t/60),a=t%60;return(s<=0?"+":"-")+k(l,2,"0")+":"+k(a,2,"0")},m:function o(s,t){if(s.date()<t.date())return-o(t,s);var l=12*(t.year()-s.year())+(t.month()-s.month()),a=s.clone().add(l,y),h=t-a<0,c=s.clone().add(l+(h?-1:1),y);return+(-(l+(t-a)/(h?a-c:c-a))||0)},a:function(o){return o<0?Math.ceil(o)||0:Math.floor(o)},p:function(o){return{M:y,y:D,w:j,d:$,D:C,h:m,m:f,s:n,ms:d,Q:U}[o]||String(o||"").toLowerCase().replace(/s$/,"")},u:function(o){return o===void 0}},O="en",H={};H[O]=_;var G=function(o){return o instanceof F},z=function(o,s,t){var l;if(!o)return O;if(typeof o=="string")H[o]&&(l=o),s&&(H[o]=s,l=o);else{var a=o.name;H[a]=o,l=a}return!t&&l&&(O=l),l||!t&&O},b=function(o,s){if(G(o))return o.clone();var t=typeof s=="object"?s:{};return t.date=o,t.args=arguments,new F(t)},g=S;g.l=z,g.i=G,g.w=function(o,s){return b(o,{locale:s.$L,utc:s.$u,x:s.$x,$offset:s.$offset})};var F=function(){function o(t){this.$L=z(t.locale,null,!0),this.parse(t)}var s=o.prototype;return s.parse=function(t){this.$d=function(l){var a=l.date,h=l.utc;if(a===null)return new Date(NaN);if(g.u(a))return new Date;if(a instanceof Date)return new Date(a);if(typeof a=="string"&&!/Z$/i.test(a)){var c=a.match(u);if(c){var p=c[2]-1||0,v=(c[7]||"0").substring(0,3);return h?new Date(Date.UTC(c[1],p,c[3]||1,c[4]||0,c[5]||0,c[6]||0,v)):new Date(c[1],p,c[3]||1,c[4]||0,c[5]||0,c[6]||0,v)}}return new Date(a)}(t),this.$x=t.x||{},this.init()},s.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},s.$utils=function(){return g},s.isValid=function(){return this.$d.toString()!=="Invalid Date"},s.isSame=function(t,l){var a=b(t);return this.startOf(l)<=a&&a<=this.endOf(l)},s.isAfter=function(t,l){return b(t)<this.startOf(l)},s.isBefore=function(t,l){return this.endOf(l)<b(t)},s.$g=function(t,l,a){return g.u(t)?this[l]:this.set(a,t)},s.unix=function(){return Math.floor(this.valueOf()/1e3)},s.valueOf=function(){return this.$d.getTime()},s.startOf=function(t,l){var a=this,h=!!g.u(l)||l,c=g.p(t),p=function(I,M){var Y=g.w(a.$u?Date.UTC(a.$y,M,I):new Date(a.$y,M,I),a);return h?Y:Y.endOf($)},v=function(I,M){return g.w(a.toDate()[I].apply(a.toDate("s"),(h?[0,0,0,0]:[23,59,59,999]).slice(M)),a)},x=this.$W,w=this.$M,L=this.$D,N="set"+(this.$u?"UTC":"");switch(c){case D:return h?p(1,0):p(31,11);case y:return h?p(1,w):p(0,w+1);case j:var A=this.$locale().weekStart||0,E=(x<A?x+7:x)-A;return p(h?L-E:L+(6-E),w);case $:case C:return v(N+"Hours",0);case m:return v(N+"Minutes",1);case f:return v(N+"Seconds",2);case n:return v(N+"Milliseconds",3);default:return this.clone()}},s.endOf=function(t){return this.startOf(t,!1)},s.$set=function(t,l){var a,h=g.p(t),c="set"+(this.$u?"UTC":""),p=(a={},a[$]=c+"Date",a[C]=c+"Date",a[y]=c+"Month",a[D]=c+"FullYear",a[m]=c+"Hours",a[f]=c+"Minutes",a[n]=c+"Seconds",a[d]=c+"Milliseconds",a)[h],v=h===$?this.$D+(l-this.$W):l;if(h===y||h===D){var x=this.clone().set(C,1);x.$d[p](v),x.init(),this.$d=x.set(C,Math.min(this.$D,x.daysInMonth())).$d}else p&&this.$d[p](v);return this.init(),this},s.set=function(t,l){return this.clone().$set(t,l)},s.get=function(t){return this[g.p(t)]()},s.add=function(t,l){var a,h=this;t=Number(t);var c=g.p(l),p=function(w){var L=b(h);return g.w(L.date(L.date()+Math.round(w*t)),h)};if(c===y)return this.set(y,this.$M+t);if(c===D)return this.set(D,this.$y+t);if(c===$)return p(1);if(c===j)return p(7);var v=(a={},a[f]=6e4,a[m]=36e5,a[n]=1e3,a)[c]||1,x=this.$d.getTime()+t*v;return g.w(x,this)},s.subtract=function(t,l){return this.add(-1*t,l)},s.format=function(t){var l=this;if(!this.isValid())return"Invalid Date";var a=t||"YYYY-MM-DDTHH:mm:ssZ",h=g.z(this),c=this.$locale(),p=this.$H,v=this.$m,x=this.$M,w=c.weekdays,L=c.months,N=function(M,Y,J,B){return M&&(M[Y]||M(l,a))||J[Y].substr(0,B)},A=function(M){return g.s(p%12||12,M,"0")},E=c.meridiem||function(M,Y,J){var B=M<12?"AM":"PM";return J?B.toLowerCase():B},I={YY:String(this.$y).slice(-2),YYYY:this.$y,M:x+1,MM:g.s(x+1,2,"0"),MMM:N(c.monthsShort,x,L,3),MMMM:N(L,x),D:this.$D,DD:g.s(this.$D,2,"0"),d:String(this.$W),dd:N(c.weekdaysMin,this.$W,w,2),ddd:N(c.weekdaysShort,this.$W,w,3),dddd:w[this.$W],H:String(p),HH:g.s(p,2,"0"),h:A(1),hh:A(2),a:E(p,v,!0),A:E(p,v,!1),m:String(v),mm:g.s(v,2,"0"),s:String(this.$s),ss:g.s(this.$s,2,"0"),SSS:g.s(this.$ms,3,"0"),Z:h};return a.replace(T,function(M,Y){return Y||I[M]||h.replace(":","")})},s.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},s.diff=function(t,l,a){var h,c=g.p(l),p=b(t),v=6e4*(p.utcOffset()-this.utcOffset()),x=this-p,w=g.m(this,p);return w=(h={},h[D]=w/12,h[y]=w,h[U]=w/3,h[j]=(x-v)/6048e5,h[$]=(x-v)/864e5,h[m]=x/36e5,h[f]=x/6e4,h[n]=x/1e3,h)[c]||x,a?w:g.a(w)},s.daysInMonth=function(){return this.endOf(y).$D},s.$locale=function(){return H[this.$L]},s.locale=function(t,l){if(!t)return this.$L;var a=this.clone(),h=z(t,l,!0);return h&&(a.$L=h),a},s.clone=function(){return g.w(this.$d,this)},s.toDate=function(){return new Date(this.valueOf())},s.toJSON=function(){return this.isValid()?this.toISOString():null},s.toISOString=function(){return this.$d.toISOString()},s.toString=function(){return this.$d.toUTCString()},o}(),V=F.prototype;return b.prototype=V,[["$ms",d],["$s",n],["$m",f],["$H",m],["$W",$],["$M",y],["$y",D],["$D",C]].forEach(function(o){V[o[1]]=function(s){return this.$g(s,o[0],o[1])}}),b.extend=function(o,s){return o.$i||(o(s,F,b),o.$i=!0),b},b.locale=z,b.isDayjs=G,b.unix=function(o){return b(1e3*o)},b.en=H[O],b.Ls=H,b.p={},b}()}),Me=ee(function(e,i){e.exports=function(d,n,f){var m=n.prototype;f.utc=function(u){return new n({date:u,utc:!0,args:arguments})},m.utc=function(u){var T=f(this.toDate(),{locale:this.$L,utc:!0});return u?T.add(this.utcOffset(),"minute"):T},m.local=function(){return f(this.toDate(),{locale:this.$L,utc:!1})};var $=m.parse;m.parse=function(u){u.utc&&(this.$u=!0),this.$utils().u(u.$offset)||(this.$offset=u.$offset),$.call(this,u)};var j=m.init;m.init=function(){if(this.$u){var u=this.$d;this.$y=u.getUTCFullYear(),this.$M=u.getUTCMonth(),this.$D=u.getUTCDate(),this.$W=u.getUTCDay(),this.$H=u.getUTCHours(),this.$m=u.getUTCMinutes(),this.$s=u.getUTCSeconds(),this.$ms=u.getUTCMilliseconds()}else j.call(this)};var y=m.utcOffset;m.utcOffset=function(u,T){var _=this.$utils().u;if(_(u))return this.$u?0:_(this.$offset)?y.call(this):this.$offset;var k=Math.abs(u)<=16?60*u:u,S=this;if(T)return S.$offset=k,S.$u=u===0,S;if(u!==0){var O=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(S=this.local().add(k+O,"minute")).$offset=k,S.$x.$localOffset=O}else S=this.utc();return S};var U=m.format;m.format=function(u){return U.call(this,u||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":""))},m.valueOf=function(){var u=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||new Date().getTimezoneOffset());return this.$d.valueOf()-6e4*u},m.isUTC=function(){return!!this.$u},m.toISOString=function(){return this.toDate().toISOString()},m.toString=function(){return this.toDate().toUTCString()};var D=m.toDate;m.toDate=function(u){return u==="s"&&this.$offset?f(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():D.call(this)};var C=m.diff;m.diff=function(u,T,_){if(u&&this.$u===u.$u)return C.call(this,u,T,_);var k=this.local(),S=f(u).local();return C.call(k,S,T,_)}}});const Te={dateTimeLocal:"YYYY-MM-DD[T]HH:mm:ss",dateTimeUTC:"YYYYMMDD[T]HHmmss[Z]",allDay:"YYYYMMDD"};function Se(e){const i=new URLSearchParams;return Object.keys(e).sort().forEach(d=>{const n=e[d];n!=null&&i.append(d,n)}),i.toString().replace(/\+/g,"%20")}function ke({startTime:e,endTime:i},d){const n=Te[d];return{start:e.format(n),end:i.format(n)}}W.extend(Me);const Ne=(e,i=!0)=>{const{start:d,end:n,duration:f}=e,m=function(y,U){if(y==null)return{};var D,C,u={},T=Object.keys(y);for(C=0;C<T.length;C++)U.indexOf(D=T[C])>=0||(u[D]=y[D]);return u}(e,["start","end","duration"]),$=i?W(d).utc():W(d),j=n?i?W(n).utc():W(n):(()=>{if(e.allDay)return $.add(1,"day");if(f&&f.length==2){const y=Number(f[0]);return $.add(y,f[1])}return $})();return R({},m,{startTime:$,endTime:j})},Oe=e=>{const i=Ne(e),{start:d,end:n}=ke(i,i.allDay?"allDay":"dateTimeUTC"),f={action:"TEMPLATE",text:i.title,details:i.description,location:i.location,trp:i.busy,dates:d+"/"+n,recur:i.rRule?"RRULE:"+i.rRule:void 0};return i.guests&&i.guests.length&&(f.add=i.guests.join()),`https://calendar.google.com/calendar/render?${Se(f)}`},Le=({event:e})=>{var f;const i={title:`${e.title} - Dance Social`,description:e.description??"",start:e.startTime,end:e.endTime,location:((f=e.location)==null?void 0:f.address)??""},d=Oe(i),n=()=>{window.open(d,"_blank","noopener,noreferrer")};return r.jsxs(P,{variant:"outline",onClick:n,className:"max-sm:text-primary",children:[r.jsx(re,{})," Add to Google Calendar"]})},Ye=({link:e})=>{const i=()=>{window.open(e,"_blank","noopener,noreferrer")};return r.jsx(P,{variant:"link",onClick:i,className:"text-sm max-sm:underline",children:"Event Link"})},_e=({createdAt:e,socialLink:i,websiteLink:d})=>{const n=()=>{window.open(d,"_blank","noopener,noreferrer")},f=()=>{window.open(i,"_blank","noopener,noreferrer")};return r.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d&&r.jsxs("div",{className:"text-center mt-2",children:[r.jsx("h3",{className:"text-md text-primary font-bold",children:"Organizer website"}),r.jsx(P,{variant:"link",onClick:n,children:d})]}),i&&r.jsx(P,{variant:"link","aria-label":"Instagram Link",onClick:f,children:r.jsx(ne,{})}),r.jsxs("p",{className:"text-xs tracking-tight",children:["Posted on ",X(e)," ",Z(e)]})]})},ze=({social:e})=>{var d,n;const i=e.musicPercentages?(()=>{const f=Object.values(e.musicPercentages).filter(j=>j.percentage>0),m=f.find(j=>j.name.toLowerCase()==="others"),$=f.filter(j=>j.name.toLowerCase()!=="others").sort((j,y)=>y.percentage-j.percentage);return m?[...$,m]:$})():[];return r.jsxs(q,{className:"break-inside-avoid mb-4 mx-2 shadow hover:border-yellow-500 hover:shadow-[0_0_1em_rgba(255,223,0,0.6)] transition-all duration-250 ease-in-out",children:[r.jsxs(ae,{children:[r.jsx(ie,{className:"text-2xl",children:e.title}),r.jsxs(oe,{className:"flex flex-col",children:[r.jsx("span",{children:X(e.startTime)}),r.jsxs("span",{children:[(d=e.location)==null?void 0:d.city,", ",(n=e.location)==null?void 0:n.state]})]})]}),r.jsxs(Q,{children:[r.jsx(Le,{event:e}),e.imageUrl&&r.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full rounded mt-2"}),r.jsx(xe,{tags:e.eventTags}),r.jsxs("div",{className:"text-center mt-2 whitespace-pre-line",children:[r.jsx("h3",{className:"text-md font-bold",children:"Details"}),r.jsx("p",{className:"text-sm/6",children:e.description})]}),r.jsx("div",{children:e.link&&r.jsx(Ye,{link:e.link})}),r.jsx("div",{className:"flex flex-col justify-center",children:r.jsx(ye,{label:"Time",startTime:e.startTime,endTime:e.endTime})}),r.jsxs("div",{className:"text-center mt-2",children:[r.jsx("h3",{className:"text-md text-primary font-bold",children:"Cover"}),r.jsx("p",{children:e.price?`$${e.price}`:"Free"})]}),e.location&&r.jsx(je,{location:e.location}),i.length>0&&r.jsx(Ce,{musicList:i})]}),r.jsx(le,{children:r.jsx(_e,{createdAt:e.createdAt,socialLink:e.organizerSocialLink,websiteLink:e.websiteLink})})]})};export{ze as E,We as a,Pe as e,$e as m};
