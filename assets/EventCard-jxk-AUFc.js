import{j as e,r as g,Z as A,_ as D,$ as O,a0 as B,a1 as G,a2 as U,Q as R,a3 as W}from"./react-Cm2Y3r6B.js";import{B as w,c as u,C as L,e as M,f as S,g as $,i as z,h as H}from"./card-XcB1B4ox.js";import{u as Z,G as q,M as F,I as J}from"./google-maps-MoKdV3t3.js";import{aY as V}from"./vendor-DXDANXqE.js";const v=r=>{const t=r.toLocaleDateString(void 0,{weekday:"long"}),n=r.toLocaleDateString(void 0,{month:"short"}),s=r.getDate(),a=r.getFullYear();return`${t}, ${n} ${s} ${a}`},C=r=>r.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}),T=({label:r,time:t})=>e.jsx("div",{className:"flex flex-col text-center mt-2 gap-2",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-md text-primary font-bold",children:r}),e.jsxs("p",{className:"whitespace-pre-line text-sm",children:[v(t),`
`,C(t)]})]})}),Y=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]}],Q={styles:Y,disableDefaultUI:!0,mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1},X=["places","marker"],_={lat:43.0722,lng:-89.4008},ee=({location:r})=>{const[t,n]=g.useState(!1),s={lat:r.lat??_.lat,lng:r.lng??_.lng},{isLoaded:a}=Z({googleMapsApiKey:"AIzaSyBuImOK6KWeeg3f71cgw6R-ssJj4arkAjk",libraries:X}),d=()=>{window.open(r.googleMapsUrl,"_blank","noopener,noreferrer")};return a?e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h3",{className:"text-md text-primary font-bold mt-2",children:"Location"}),e.jsxs(w,{variant:"link",className:"text-sm text-foreground",onClick:d,children:[e.jsx(A,{}),e.jsx("p",{children:r.propertyName})]}),e.jsx("div",{className:"w-full h-72 rounded-md border mt-2",children:e.jsxs(q,{center:s,zoom:15,mapContainerClassName:"w-full h-full rounded-2xl",options:Q,children:[e.jsx(F,{position:{lat:s.lat,lng:s.lng},onClick:()=>n(!0)}),t&&e.jsx(J,{position:{lat:s.lat,lng:s.lng},onCloseClick:()=>n(!1),children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h3",{className:"font-semibold text-md text-primary",children:r.propertyName}),e.jsx("p",{className:"text-sm text-gray-500",children:r.address}),r.city&&r.state&&e.jsxs("p",{className:"text-sm text-gray-400",children:[r.city,", ",r.state]}),e.jsx("a",{href:r.googleMapsUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary underline text-sm",children:"View on Google Maps"})]})})]})})]}):e.jsx("p",{children:"Loading map..."})},re={light:"",dark:".dark"},I=g.createContext(null);function P(){const r=g.useContext(I);if(!r)throw new Error("useChart must be used within a <ChartContainer />");return r}function te({id:r,className:t,children:n,config:s,...a}){const d=g.useId(),o=`chart-${r||d.replace(/:/g,"")}`;return e.jsx(I.Provider,{value:{config:s},children:e.jsxs("div",{"data-slot":"chart","data-chart":o,className:u("[&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border flex aspect-video justify-center text-xs [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-hidden [&_.recharts-sector]:outline-hidden [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-surface]:outline-hidden",t),...a,children:[e.jsx(se,{id:o,config:s}),e.jsx(B,{children:n})]})})}const se=({id:r,config:t})=>{const n=Object.entries(t).filter(([,s])=>s.theme||s.color);return n.length?e.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(re).map(([s,a])=>`
${a} [data-chart=${r}] {
${n.map(([d,o])=>{var c;const x=((c=o.theme)==null?void 0:c[s])||o.color;return x?`  --color-${d}: ${x};`:null}).join(`
`)}
}
`).join(`
`)}}):null},ne=D;function ae({active:r,payload:t,className:n,indicator:s="dot",hideLabel:a=!1,hideIndicator:d=!1,label:o,labelFormatter:x,labelClassName:c,formatter:m,color:E,nameKey:K,labelKey:b}){const{config:p}=P(),N=g.useMemo(()=>{var f;if(a||!(t!=null&&t.length))return null;const[l]=t,y=`${b||(l==null?void 0:l.dataKey)||(l==null?void 0:l.name)||"value"}`,h=k(p,l,y),i=!b&&typeof o=="string"?((f=p[o])==null?void 0:f.label)||o:h==null?void 0:h.label;return x?e.jsx("div",{className:u("font-medium",c),children:x(i,t)}):i?e.jsx("div",{className:u("font-medium",c),children:i}):null},[o,x,t,a,c,p,b]);if(!r||!(t!=null&&t.length))return null;const j=t.length===1&&s!=="dot";return e.jsxs("div",{className:u("border-border/50 bg-background grid min-w-[8rem] items-start gap-1.5 rounded-lg border px-2.5 py-1.5 text-xs shadow-xl",n),children:[j?null:N,e.jsx("div",{className:"grid gap-1.5",children:t.map((l,y)=>{const h=`${K||l.name||l.dataKey||"value"}`,i=k(p,l,h),f=E||l.payload.fill||l.color;return e.jsx("div",{className:u("[&>svg]:text-muted-foreground flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5",s==="dot"&&"items-center"),children:m&&(l==null?void 0:l.value)!==void 0&&l.name?m(l.value,l.name,l,y,l.payload):e.jsxs(e.Fragment,{children:[i!=null&&i.icon?e.jsx(i.icon,{}):!d&&e.jsx("div",{className:u("shrink-0 rounded-[2px] border-(--color-border) bg-(--color-bg)",{"h-2.5 w-2.5":s==="dot","w-1":s==="line","w-0 border-[1.5px] border-dashed bg-transparent":s==="dashed","my-0.5":j&&s==="dashed"}),style:{"--color-bg":f,"--color-border":f}}),e.jsxs("div",{className:u("flex flex-1 justify-between leading-none",j?"items-end":"items-center"),children:[e.jsxs("div",{className:"grid gap-1.5",children:[j?N:null,e.jsx("span",{className:"text-muted-foreground",children:(i==null?void 0:i.label)||l.name})]}),l.value&&e.jsx("span",{className:"text-foreground font-mono font-medium tabular-nums",children:l.value.toLocaleString()})]})]})},l.dataKey)})})]})}const le=O;function oe({className:r,hideIcon:t=!1,payload:n,verticalAlign:s="bottom",nameKey:a}){const{config:d}=P();return n!=null&&n.length?e.jsx("div",{className:u("flex items-center justify-center gap-4",s==="top"?"pb-3":"pt-3",r),children:n.map(o=>{var m;const x=`${a||o.dataKey||"value"}`,c=k(d,o,x);return e.jsxs("div",{className:u("[&>svg]:text-muted-foreground flex flex-col items-center [&>svg]:h-3 [&>svg]:w-3"),children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[c!=null&&c.icon&&!t?e.jsx(c.icon,{}):e.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:o.color}}),e.jsx("span",{children:c==null?void 0:c.label})]}),e.jsx("span",{children:typeof((m=o==null?void 0:o.payload)==null?void 0:m.value)=="number"&&e.jsxs("span",{className:"text-muted-foreground font-mono",children:[o.payload.value,"%"]})})]},o.value)})}):null}function k(r,t,n){if(typeof t!="object"||t===null)return;const s="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=n;return n in t&&typeof t[n]=="string"?a=t[n]:s&&n in s&&typeof s[n]=="string"&&(a=s[n]),a in r?r[a]:r[n]}const pe=[{id:"bachata",label:"Bachata"},{id:"salsa",label:"Salsa"},{id:"merengue",label:"Merengue"},{id:"cumbia",label:"Cumbia"},{id:"zouk",label:"Zouk"}],ce=[{name:"Bachata",bgColor:"#22c55e",shadowColor:"rgba(34, 197, 94, 0.3)"},{name:"Salsa",bgColor:"#f97316",shadowColor:"rgba(249, 115, 22, 0.3)"},{name:"Merengue",bgColor:"#f43f5e",shadowColor:"rgba(244, 63, 94, 0.3)"},{name:"Cumbia",bgColor:"#3b82f6",shadowColor:"rgba(59, 130, 246, 0.3)"},{name:"Zouk",bgColor:"#8b5cf6",shadowColor:"rgba(139, 92, 246, 0.3)"},{name:"Others",bgColor:"#6b7280",shadowColor:"rgba(107, 114, 128, 0.3)"}];function ie(r){return ce.find(t=>t.name===r.name)||null}const de=({musicList:r})=>{const t=r.filter(s=>s.percentage>0).map(s=>{const a=ie(s);return a?{key:s.name.toLowerCase().replace(/\s+/g,"_"),label:s.name,value:s.percentage,fill:a.bgColor}:null}).filter(Boolean),n=t.reduce((s,a)=>(s[a.key]={label:a.label,color:a.fill},s),{});return e.jsxs(L,{className:"flex flex-col mt-6",children:[e.jsx(M,{className:"items-center pb-0",children:e.jsx(S,{children:"Music Percentages"})}),e.jsx($,{className:"flex-1 pb-0",children:e.jsx(te,{config:n,className:"mx-auto aspect-square max-h-[300px]",children:e.jsxs(G,{children:[e.jsx(ne,{content:e.jsx(ae,{nameKey:"label"})}),e.jsx(U,{data:t,dataKey:"value",nameKey:"label",cx:"50%",cy:"50%",outerRadius:"80%"}),e.jsx(le,{content:e.jsx(oe,{nameKey:"key"}),className:"-translate-y-2 flex-wrap gap-2 [&>*]:basis-1/4 [&>*]:justify-center"})]})})})]})},ue=({event:r})=>{var a;const t={title:r.title,description:r.description??"",start:r.startTime,end:r.endTime,location:((a=r.location)==null?void 0:a.address)??""},n=V(t),s=()=>{window.open(n,"_blank","noopener,noreferrer")};return e.jsxs(w,{variant:"outline",onClick:s,children:[e.jsx(R,{})," Add to Google Calendar"]})},xe=({link:r})=>{const t=()=>{window.open(r,"_blank","noopener,noreferrer")};return e.jsxs(w,{variant:"outline",onClick:t,className:"text-sm mt-2",children:[e.jsx(W,{})," Event Link"]})},je=({social:r})=>{const t=r.musicPercentages?Object.values(r.musicPercentages).filter(s=>s.percentage>0).sort((s,a)=>a.percentage-s.percentage):[],n=`${v(r.startTime)} ${C(r.startTime)}`;return e.jsxs(L,{className:"break-inside-avoid mb-4 mx-2 shadow hover:border-yellow-500 hover:shadow-[0_0_1em_rgba(255,223,0,0.6)] transition-all duration-250 ease-in-out",children:[e.jsxs(M,{children:[e.jsx(S,{className:"text-2xl",children:r.title}),e.jsx(z,{children:n})]}),e.jsxs($,{children:[e.jsx(ue,{event:r}),r.imageUrl&&e.jsx("img",{src:r.imageUrl,alt:r.title,className:"w-full rounded mt-2"}),e.jsxs("div",{className:"text-center mt-2 whitespace-pre-line",children:[e.jsx("h3",{className:"text-md text-primary font-bold",children:"Details"}),e.jsx("p",{className:"text-sm/6",children:r.description})]}),e.jsx("div",{children:r.link&&e.jsx(xe,{link:r.link})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx(T,{label:"Starts",time:r.startTime}),e.jsx(T,{label:"Ends",time:r.endTime})]}),r.location&&e.jsx(ee,{location:r.location}),t.length>0&&e.jsx(de,{musicList:t})]}),e.jsx(H,{children:e.jsxs("p",{className:"text-xs tracking-tight",children:["Posted on ",v(r.createdAt)," ",C(r.createdAt)]})})]})};export{je as E,pe as a,Q as m};
