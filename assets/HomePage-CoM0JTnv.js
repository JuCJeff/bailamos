import{j as e}from"./ui-vendor-CeVeEGKm.js";import{c as f,a as v,u as N,C as w,b,d as k,H as C}from"./card-CX-V3Izr.js";import{r as d}from"./react-vendor-OFIyUoOe.js";import{e as E,f as T}from"./firebase-vendor-BDbcDu5O.js";import{d as S}from"./index-BReONmXm.js";import{E as D}from"./EventCard-b49iGuU3.js";import"./utils-vendor-D30coVKW.js";import"./maps-vendor-DaqL9Vb0.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_=f("Calendar",M);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],L=f("MapPin",H);function r({className:o,...i}){return e.jsx("div",{"data-slot":"skeleton",className:v("bg-accent animate-pulse rounded-md",o),...i})}const $=()=>{const[o,i]=d.useState([]),[h,u]=d.useState(!0),{location:t}=N();d.useEffect(()=>{(async()=>{try{const c=await E(T(S,"events")),j=new Date;let l=c.docs.map(s=>{const a=s.data();return{id:s.id,...a,createdAt:a.createdAt.toDate(),startTime:a.startTime.toDate(),endTime:a.endTime.toDate()}}).filter(s=>s.endTime>j).sort((s,a)=>s.startTime.getTime()-a.startTime.getTime());t&&t.state!=="any"&&(l=l.filter(s=>{var m,x;const a=(m=s.location)==null?void 0:m.state,y=(x=s.location)==null?void 0:x.city;return t.city&&t.city!=="any"?a===t.state&&y===t.city:a===t.state})),i(l)}catch(c){console.error("Error fetching events:",c)}finally{u(!1)}})()},[t]);const p=()=>e.jsxs(w,{className:"break-inside-avoid mb-4 mx-2",children:[e.jsxs(b,{children:[e.jsx(r,{className:"h-8 w-3/4 mb-2"}),e.jsx(r,{className:"h-4 w-1/2"})]}),e.jsxs(k,{className:"space-y-4",children:[e.jsx(r,{className:"h-10 w-full"}),e.jsx(r,{className:"h-48 w-full"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{className:"h-6 w-16"}),e.jsx(r,{className:"h-6 w-20"})]}),e.jsx(r,{className:"h-4 w-3/4"}),e.jsx(r,{className:"h-4 w-1/2"})]})]}),g=()=>{const n=()=>!t||t.state==="any"?"No events posted yet":t.city&&t.city!=="any"?`No events posted for ${t.city}, ${t.state}`:`No events posted for ${t.state}`;return e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mb-4",children:e.jsx(_,{className:"w-8 h-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Events Found"}),e.jsxs("p",{className:"text-muted-foreground mb-4 max-w-md",children:[n(),". Check back later or try selecting a different location."]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{children:"Use the location selector above to find events in other areas"})]})]})};return h?e.jsx("div",{className:"grid gap-4 grid-cols-1 mx-4 sm:grid-cols-2 sm:mx-2 lg:grid-cols-3 lg:mx-4",children:Array.from({length:6}).map((n,c)=>e.jsx(p,{},c))}):o.length===0?e.jsx(g,{}):e.jsx("div",{className:"grid gap-4 grid-cols-1 mx-4 sm:grid-cols-2 sm:mx-2 lg:grid-cols-3 lg:mx-4",children:o.map(n=>e.jsx("div",{className:"break-inside-avoid w-full",children:e.jsx(D,{social:n})},n.id))})};function U(){return e.jsxs("div",{children:[e.jsx(C,{}),e.jsx($,{})]})}export{U as default};
