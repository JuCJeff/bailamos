import{j as e,r as m,C as N,M as v}from"./react-BV_0FzY6.js";import{c as y,u as w,C as b,a as E,b as C,H as T}from"./card-DNYd950U.js";import{c as S,d as k}from"./firebase-DyRbBIhJ.js";import{d as D}from"./index-BBtiRiNo.js";import{E as H}from"./EventCard-B9O4Rz2Z.js";import"./vendor-DUxuRwNf.js";import"./shadcn-ui-BA32w1ww.js";import"./google-maps-CdSZERwW.js";function r({className:o,...i}){return e.jsx("div",{"data-slot":"skeleton",className:y("bg-accent animate-pulse rounded-md",o),...i})}const A=()=>{const[o,i]=m.useState([]),[f,u]=m.useState(!0),{location:t}=w();m.useEffect(()=>{(async()=>{try{const c=await S(k(D,"events")),g=new Date;let l=c.docs.map(s=>{const a=s.data();return{id:s.id,...a,createdAt:a.createdAt.toDate(),startTime:a.startTime.toDate(),endTime:a.endTime.toDate()}}).filter(s=>s.endTime>g).sort((s,a)=>s.startTime.getTime()-a.startTime.getTime());t&&t.state!=="any"&&(l=l.filter(s=>{var d,x;const a=(d=s.location)==null?void 0:d.state,p=(x=s.location)==null?void 0:x.city;return t.city&&t.city!=="any"?a===t.state&&p===t.city:a===t.state})),i(l)}catch(c){console.error("Error fetching events:",c)}finally{u(!1)}})()},[t]);const h=()=>e.jsxs(b,{className:"break-inside-avoid mb-4 mx-2",children:[e.jsxs(E,{children:[e.jsx(r,{className:"h-8 w-3/4 mb-2"}),e.jsx(r,{className:"h-4 w-1/2"})]}),e.jsxs(C,{className:"space-y-4",children:[e.jsx(r,{className:"h-10 w-full"}),e.jsx(r,{className:"h-48 w-full"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{className:"h-6 w-16"}),e.jsx(r,{className:"h-6 w-20"})]}),e.jsx(r,{className:"h-4 w-3/4"}),e.jsx(r,{className:"h-4 w-1/2"})]})]}),j=()=>{const n=()=>!t||t.state==="any"?"No events posted yet":t.city&&t.city!=="any"?`No events posted for ${t.city}, ${t.state}`:`No events posted for ${t.state}`;return e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mb-4",children:e.jsx(N,{className:"w-8 h-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Events Found"}),e.jsxs("p",{className:"text-muted-foreground mb-4 max-w-md",children:[n(),". Check back later or try selecting a different location."]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(v,{className:"w-4 h-4"}),e.jsx("span",{children:"Use the location selector above to find events in other areas"})]})]})};return f?e.jsx("div",{className:"grid gap-4 grid-cols-1 mx-4 sm:grid-cols-2 sm:mx-2 lg:grid-cols-3 lg:mx-4",children:Array.from({length:6}).map((n,c)=>e.jsx(h,{},c))}):o.length===0?e.jsx(j,{}):e.jsx("div",{className:"grid gap-4 grid-cols-1 mx-4 sm:grid-cols-2 sm:mx-2 lg:grid-cols-3 lg:mx-4",children:o.map(n=>e.jsx("div",{className:"break-inside-avoid w-full",children:e.jsx(H,{social:n})},n.id))})};function U(){return e.jsxs("div",{children:[e.jsx(T,{}),e.jsx(A,{})]})}export{U as default};
