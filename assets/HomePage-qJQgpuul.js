import{j as e}from"./ui-vendor-CeVeEGKm.js";import{c as x,u as v,C as N,a as w,b,H as k}from"./card-C_iB7wo5.js";import{r as i}from"./react-vendor-OFIyUoOe.js";import{e as C,f as E}from"./firebase-vendor-BDbcDu5O.js";import{d as S}from"./index-KCAfwHL7.js";import{E as T,S as r}from"./EventCard-D7S2sVeS.js";import"./utils-vendor-D30coVKW.js";import"./maps-vendor-DaqL9Vb0.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],M=x("Calendar",D);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],H=x("MapPin",_),L=()=>{const[l,f]=i.useState([]),[h,u]=i.useState(!0),{location:t}=v();i.useEffect(()=>{(async()=>{try{const n=await C(E(S,"events")),g=new Date;let o=n.docs.map(s=>{const a=s.data();return{id:s.id,...a,createdAt:a.createdAt.toDate(),startTime:a.startTime.toDate(),endTime:a.endTime.toDate()}}).filter(s=>s.endTime>g).sort((s,a)=>s.startTime.getTime()-a.startTime.getTime());t&&t.state!=="any"&&(o=o.filter(s=>{var d,m;const a=(d=s.location)==null?void 0:d.state,j=(m=s.location)==null?void 0:m.city;return t.city&&t.city!=="any"?a===t.state&&j===t.city:a===t.state})),f(o)}catch(n){console.error("Error fetching events:",n)}finally{u(!1)}})()},[t]);const p=()=>e.jsxs(N,{className:"break-inside-avoid mb-4 mx-2",children:[e.jsxs(w,{children:[e.jsx(r,{className:"h-8 w-3/4 mb-2"}),e.jsx(r,{className:"h-4 w-1/2"})]}),e.jsxs(b,{className:"space-y-4",children:[e.jsx(r,{className:"h-10 w-full"}),e.jsx(r,{className:"h-48 w-full"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{className:"h-6 w-16"}),e.jsx(r,{className:"h-6 w-20"})]}),e.jsx(r,{className:"h-4 w-3/4"}),e.jsx(r,{className:"h-4 w-1/2"})]})]}),y=()=>{const c=()=>!t||t.state==="any"?"No events posted yet":t.city&&t.city!=="any"?`No events posted for ${t.city}, ${t.state}`:`No events posted for ${t.state}`;return e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mb-4",children:e.jsx(M,{className:"w-8 h-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Events Found"}),e.jsxs("p",{className:"text-muted-foreground mb-4 max-w-md",children:[c(),". Check back later or try selecting a different location."]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(H,{className:"w-4 h-4"}),e.jsx("span",{children:"Use the location selector above to find events in other areas"})]})]})};return h?e.jsx("div",{className:"grid gap-4 grid-cols-1 mx-4 sm:grid-cols-2 sm:mx-2 lg:grid-cols-3 lg:mx-4",children:Array.from({length:6}).map((c,n)=>e.jsx(p,{},n))}):l.length===0?e.jsx(y,{}):e.jsx("div",{className:"grid gap-4 grid-cols-1 mx-4 sm:grid-cols-2 sm:mx-2 lg:grid-cols-3 lg:mx-4",children:l.map(c=>e.jsx("div",{className:"break-inside-avoid w-full",children:e.jsx(T,{social:c})},c.id))})};function R(){return e.jsxs("div",{children:[e.jsx(k,{}),e.jsx(L,{})]})}export{R as default};
