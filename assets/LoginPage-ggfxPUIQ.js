import{R as A,r as j,j as n,u as ke}from"./index-BsdhmCxN.js";import{a as kt,P as he,c as te,u as Fr,b as Dr,d as qe,e as He,f as _e,g as Ze,h as Ar,i as Er,R as Nr,S as Sr,j as Vr,F as Cr,D as Pr,k as kr,B as me,I as ae,H as Rr}from"./HeadBar-CUMT4-EZ.js";import{p as Tr,a as Re,b as Ke,F as Te,q as Lr,r as Ir,d as Or,c as Mr,G as Ur,v as Br,w as qr,z as Wr,T as $r,C as Rt,e as Tt,f as Lt,h as It,k as zr,l as Gr,m as vt,n as pt}from"./index-COnCqZNY.js";/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Le=kt("LoaderCircle",Hr);/**
 * @license lucide-react v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Kr=kt("X",Zr);var Fe=e=>e.type==="checkbox",ue=e=>e instanceof Date,M=e=>e==null;const Ot=e=>typeof e=="object";var V=e=>!M(e)&&!Array.isArray(e)&&Ot(e)&&!ue(e),Mt=e=>V(e)&&e.target?Fe(e.target)?e.target.checked:e.target.value:e,Xr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ut=(e,r)=>e.has(Xr(r)),Yr=e=>{const r=e.constructor&&e.constructor.prototype;return V(r)&&r.hasOwnProperty("isPrototypeOf")},Xe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function U(e){let r;const t=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Xe&&(e instanceof Blob||s))&&(t||V(e)))if(r=t?[]:{},!t&&!Yr(e))r=e;else for(const i in e)e.hasOwnProperty(i)&&(r[i]=U(e[i]));else return e;return r}var Ie=e=>Array.isArray(e)?e.filter(Boolean):[],S=e=>e===void 0,m=(e,r,t)=>{if(!r||!V(e))return t;const s=Ie(r.split(/[,[\].]+?/)).reduce((i,o)=>M(i)?i:i[o],e);return S(s)||s===e?S(e[r])?t:e[r]:s},G=e=>typeof e=="boolean",Ye=e=>/^\w*$/.test(e),Bt=e=>Ie(e.replace(/["|']|\]/g,"").split(/\.|\[/)),E=(e,r,t)=>{let s=-1;const i=Ye(r)?[r]:Bt(r),o=i.length,c=o-1;for(;++s<o;){const d=i[s];let y=t;if(s!==c){const b=e[d];y=V(b)||Array.isArray(b)?b:isNaN(+i[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=y,e=e[d]}return e};const Ne={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Z={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ee={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Jr=A.createContext(null),Je=()=>A.useContext(Jr);var qt=(e,r,t,s=!0)=>{const i={defaultValues:r._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const c=o;return r._proxyFormState[c]!==Z.all&&(r._proxyFormState[c]=!s||Z.all),t&&(t[c]=!0),e[c]}});return i},B=e=>V(e)&&!Object.keys(e).length,Wt=(e,r,t,s)=>{t(e);const{name:i,...o}=e;return B(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(c=>r[c]===(!s||Z.all))},we=e=>Array.isArray(e)?e:[e],$t=(e,r,t)=>!e||!r||e===r||we(e).some(s=>s&&(t?s===r:s.startsWith(r)||r.startsWith(s)));function Qe(e){const r=A.useRef(e);r.current=e,A.useEffect(()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function Qr(e){const r=Je(),{control:t=r.control,disabled:s,name:i,exact:o}=e||{},[c,d]=A.useState(t._formState),y=A.useRef(!0),b=A.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),p=A.useRef(i);return p.current=i,Qe({disabled:s,next:x=>y.current&&$t(p.current,x.name,o)&&Wt(x,b.current,t._updateFormState)&&d({...t._formState,...x}),subject:t._subjects.state}),A.useEffect(()=>(y.current=!0,b.current.isValid&&t._updateValid(!0),()=>{y.current=!1}),[t]),A.useMemo(()=>qt(c,t,b.current,!1),[c,t])}var Y=e=>typeof e=="string",zt=(e,r,t,s,i)=>Y(e)?(s&&r.watch.add(e),m(t,e,i)):Array.isArray(e)?e.map(o=>(s&&r.watch.add(o),m(t,o))):(s&&(r.watchAll=!0),t);function es(e){const r=Je(),{control:t=r.control,name:s,defaultValue:i,disabled:o,exact:c}=e||{},d=A.useRef(s);d.current=s,Qe({disabled:o,subject:t._subjects.values,next:p=>{$t(d.current,p.name,c)&&b(U(zt(d.current,t._names,p.values||t._formValues,!1,i)))}});const[y,b]=A.useState(t._getWatch(s,i));return A.useEffect(()=>t._removeUnmounted()),y}function ts(e){const r=Je(),{name:t,disabled:s,control:i=r.control,shouldUnregister:o}=e,c=Ut(i._names.array,t),d=es({control:i,name:t,defaultValue:m(i._formValues,t,m(i._defaultValues,t,e.defaultValue)),exact:!0}),y=Qr({control:i,name:t,exact:!0}),b=A.useRef(i.register(t,{...e.rules,value:d,...G(e.disabled)?{disabled:e.disabled}:{}})),p=A.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!m(y.errors,t)},isDirty:{enumerable:!0,get:()=>!!m(y.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!m(y.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!m(y.validatingFields,t)},error:{enumerable:!0,get:()=>m(y.errors,t)}}),[y,t]),x=A.useMemo(()=>({name:t,value:d,...G(s)||y.disabled?{disabled:y.disabled||s}:{},onChange:N=>b.current.onChange({target:{value:Mt(N),name:t},type:Ne.CHANGE}),onBlur:()=>b.current.onBlur({target:{value:m(i._formValues,t),name:t},type:Ne.BLUR}),ref:N=>{const W=m(i._fields,t);W&&N&&(W._f.ref={focus:()=>N.focus(),select:()=>N.select(),setCustomValidity:L=>N.setCustomValidity(L),reportValidity:()=>N.reportValidity()})}}),[t,i._formValues,s,y.disabled,d,i._fields]);return A.useEffect(()=>{const N=i._options.shouldUnregister||o,W=(L,O)=>{const q=m(i._fields,L);q&&q._f&&(q._f.mount=O)};if(W(t,!0),N){const L=U(m(i._options.defaultValues,t));E(i._defaultValues,t,L),S(m(i._formValues,t))&&E(i._formValues,t,L)}return!c&&i.register(t),()=>{(c?N&&!i._state.action:N)?i.unregister(t):W(t,!1)}},[t,i,c,o]),A.useEffect(()=>{i._updateDisabledField({disabled:s,fields:i._fields,name:t})},[s,t,i]),A.useMemo(()=>({field:x,formState:y,fieldState:p}),[x,y,p])}const ie=e=>e.render(ts(e));var rs=(e,r,t,s,i)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[s]:i||!0}}:{},bt=e=>({isOnSubmit:!e||e===Z.onSubmit,isOnBlur:e===Z.onBlur,isOnChange:e===Z.onChange,isOnAll:e===Z.all,isOnTouch:e===Z.onTouched}),_t=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const je=(e,r,t,s)=>{for(const i of t||Object.keys(e)){const o=m(e,i);if(o){const{_f:c,...d}=o;if(c){if(c.refs&&c.refs[0]&&r(c.refs[0],i)&&!s)return!0;if(c.ref&&r(c.ref,c.name)&&!s)return!0;if(je(d,r))break}else if(V(d)&&je(d,r))break}}};var ss=(e,r,t)=>{const s=we(m(e,t));return E(s,"root",r[t]),E(e,t,s),e},et=e=>e.type==="file",X=e=>typeof e=="function",Se=e=>{if(!Xe)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Ee=e=>Y(e),tt=e=>e.type==="radio",Ve=e=>e instanceof RegExp;const wt={value:!1,isValid:!1},jt={value:!0,isValid:!0};var Gt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!S(e[0].attributes.value)?S(e[0].value)||e[0].value===""?jt:{value:e[0].value,isValid:!0}:jt:wt}return wt};const Ft={isValid:!1,value:null};var Ht=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,Ft):Ft;function Dt(e,r,t="validate"){if(Ee(e)||Array.isArray(e)&&e.every(Ee)||G(e)&&!e)return{type:t,message:Ee(e)?e:"",ref:r}}var ge=e=>V(e)&&!Ve(e)?e:{value:e,message:""},At=async(e,r,t,s,i,o)=>{const{ref:c,refs:d,required:y,maxLength:b,minLength:p,min:x,max:N,pattern:W,validate:L,name:O,valueAsNumber:q,mount:re}=e._f,F=m(t,O);if(!re||r.has(O))return{};const J=d?d[0]:c,Q=w=>{i&&J.reportValidity&&(J.setCustomValidity(G(w)?"":w||""),J.reportValidity())},C={},de=tt(c),De=Fe(c),oe=de||De,fe=(q||et(c))&&S(c.value)&&S(F)||Se(c)&&c.value===""||F===""||Array.isArray(F)&&!F.length,$=rs.bind(null,O,s,C),Ae=(w,D,P,I=ee.maxLength,H=ee.minLength)=>{const z=w?D:P;C[O]={type:w?I:H,message:z,ref:c,...$(w?I:H,z)}};if(o?!Array.isArray(F)||!F.length:y&&(!oe&&(fe||M(F))||G(F)&&!F||De&&!Gt(d).isValid||de&&!Ht(d).isValid)){const{value:w,message:D}=Ee(y)?{value:!!y,message:y}:ge(y);if(w&&(C[O]={type:ee.required,message:D,ref:J,...$(ee.required,D)},!s))return Q(D),C}if(!fe&&(!M(x)||!M(N))){let w,D;const P=ge(N),I=ge(x);if(!M(F)&&!isNaN(F)){const H=c.valueAsNumber||F&&+F;M(P.value)||(w=H>P.value),M(I.value)||(D=H<I.value)}else{const H=c.valueAsDate||new Date(F),z=ve=>new Date(new Date().toDateString()+" "+ve),ye=c.type=="time",xe=c.type=="week";Y(P.value)&&F&&(w=ye?z(F)>z(P.value):xe?F>P.value:H>new Date(P.value)),Y(I.value)&&F&&(D=ye?z(F)<z(I.value):xe?F<I.value:H<new Date(I.value))}if((w||D)&&(Ae(!!w,P.message,I.message,ee.max,ee.min),!s))return Q(C[O].message),C}if((b||p)&&!fe&&(Y(F)||o&&Array.isArray(F))){const w=ge(b),D=ge(p),P=!M(w.value)&&F.length>+w.value,I=!M(D.value)&&F.length<+D.value;if((P||I)&&(Ae(P,w.message,D.message),!s))return Q(C[O].message),C}if(W&&!fe&&Y(F)){const{value:w,message:D}=ge(W);if(Ve(w)&&!F.match(w)&&(C[O]={type:ee.pattern,message:D,ref:c,...$(ee.pattern,D)},!s))return Q(D),C}if(L){if(X(L)){const w=await L(F,t),D=Dt(w,J);if(D&&(C[O]={...D,...$(ee.validate,D.message)},!s))return Q(D.message),C}else if(V(L)){let w={};for(const D in L){if(!B(w)&&!s)break;const P=Dt(await L[D](F,t),J,D);P&&(w={...P,...$(D,P.message)},Q(P.message),s&&(C[O]=w))}if(!B(w)&&(C[O]={ref:J,...w},!s))return C}}return Q(!0),C};function as(e,r){const t=r.slice(0,-1).length;let s=0;for(;s<t;)e=S(e)?s++:e[r[s++]];return e}function is(e){for(const r in e)if(e.hasOwnProperty(r)&&!S(e[r]))return!1;return!0}function k(e,r){const t=Array.isArray(r)?r:Ye(r)?[r]:Bt(r),s=t.length===1?e:as(e,t),i=t.length-1,o=t[i];return s&&delete s[o],i!==0&&(V(s)&&B(s)||Array.isArray(s)&&is(s))&&k(e,t.slice(0,-1)),e}var We=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}},Ge=e=>M(e)||!Ot(e);function ne(e,r){if(Ge(e)||Ge(r))return e===r;if(ue(e)&&ue(r))return e.getTime()===r.getTime();const t=Object.keys(e),s=Object.keys(r);if(t.length!==s.length)return!1;for(const i of t){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const c=r[i];if(ue(o)&&ue(c)||V(o)&&V(c)||Array.isArray(o)&&Array.isArray(c)?!ne(o,c):o!==c)return!1}}return!0}var Zt=e=>e.type==="select-multiple",ns=e=>tt(e)||Fe(e),$e=e=>Se(e)&&e.isConnected,Kt=e=>{for(const r in e)if(X(e[r]))return!0;return!1};function Ce(e,r={}){const t=Array.isArray(e);if(V(e)||t)for(const s in e)Array.isArray(e[s])||V(e[s])&&!Kt(e[s])?(r[s]=Array.isArray(e[s])?[]:{},Ce(e[s],r[s])):M(e[s])||(r[s]=!0);return r}function Xt(e,r,t){const s=Array.isArray(e);if(V(e)||s)for(const i in e)Array.isArray(e[i])||V(e[i])&&!Kt(e[i])?S(r)||Ge(t[i])?t[i]=Array.isArray(e[i])?Ce(e[i],[]):{...Ce(e[i])}:Xt(e[i],M(r)?{}:r[i],t[i]):t[i]=!ne(e[i],r[i]);return t}var pe=(e,r)=>Xt(e,r,Ce(r)),Yt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:s})=>S(e)?e:r?e===""?NaN:e&&+e:t&&Y(e)?new Date(e):s?s(e):e;function ze(e){const r=e.ref;return et(r)?r.files:tt(r)?Ht(e.refs).value:Zt(r)?[...r.selectedOptions].map(({value:t})=>t):Fe(r)?Gt(e.refs).value:Yt(S(r.value)?e.ref.value:r.value,e)}var os=(e,r,t,s)=>{const i={};for(const o of e){const c=m(r,o);c&&E(i,o,c._f)}return{criteriaMode:t,names:[...e],fields:i,shouldUseNativeValidation:s}},be=e=>S(e)?e:Ve(e)?e.source:V(e)?Ve(e.value)?e.value.source:e.value:e;const Et="AsyncFunction";var ls=e=>!!e&&!!e.validate&&!!(X(e.validate)&&e.validate.constructor.name===Et||V(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===Et)),us=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Nt(e,r,t){const s=m(e,t);if(s||Ye(t))return{error:s,name:t};const i=t.split(".");for(;i.length;){const o=i.join("."),c=m(r,o),d=m(e,o);if(c&&!Array.isArray(c)&&t!==o)return{name:t};if(d&&d.type)return{name:o,error:d};i.pop()}return{name:t}}var cs=(e,r,t,s,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(r||e):(t?s.isOnBlur:i.isOnBlur)?!e:(t?s.isOnChange:i.isOnChange)?e:!0,ds=(e,r)=>!Ie(m(e,r)).length&&k(e,r);const fs={mode:Z.onSubmit,reValidateMode:Z.onChange,shouldFocusError:!0};function gs(e={}){let r={...fs,...e},t={submitCount:0,isDirty:!1,isLoading:X(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},s={},i=V(r.defaultValues)||V(r.values)?U(r.defaultValues||r.values)||{}:{},o=r.shouldUnregister?{}:U(i),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},y,b=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},x={values:We(),array:We(),state:We()},N=bt(r.mode),W=bt(r.reValidateMode),L=r.criteriaMode===Z.all,O=a=>l=>{clearTimeout(b),b=setTimeout(a,l)},q=async a=>{if(!r.disabled&&(p.isValid||a)){const l=r.resolver?B((await oe()).errors):await $(s,!0);l!==t.isValid&&x.state.next({isValid:l})}},re=(a,l)=>{!r.disabled&&(p.isValidating||p.validatingFields)&&((a||Array.from(d.mount)).forEach(u=>{u&&(l?E(t.validatingFields,u,l):k(t.validatingFields,u))}),x.state.next({validatingFields:t.validatingFields,isValidating:!B(t.validatingFields)}))},F=(a,l=[],u,h,g=!0,f=!0)=>{if(h&&u&&!r.disabled){if(c.action=!0,f&&Array.isArray(m(s,a))){const v=u(m(s,a),h.argA,h.argB);g&&E(s,a,v)}if(f&&Array.isArray(m(t.errors,a))){const v=u(m(t.errors,a),h.argA,h.argB);g&&E(t.errors,a,v),ds(t.errors,a)}if(p.touchedFields&&f&&Array.isArray(m(t.touchedFields,a))){const v=u(m(t.touchedFields,a),h.argA,h.argB);g&&E(t.touchedFields,a,v)}p.dirtyFields&&(t.dirtyFields=pe(i,o)),x.state.next({name:a,isDirty:w(a,l),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else E(o,a,l)},J=(a,l)=>{E(t.errors,a,l),x.state.next({errors:t.errors})},Q=a=>{t.errors=a,x.state.next({errors:t.errors,isValid:!1})},C=(a,l,u,h)=>{const g=m(s,a);if(g){const f=m(o,a,S(u)?m(i,a):u);S(f)||h&&h.defaultChecked||l?E(o,a,l?f:ze(g._f)):I(a,f),c.mount&&q()}},de=(a,l,u,h,g)=>{let f=!1,v=!1;const _={name:a};if(!r.disabled){const R=!!(m(s,a)&&m(s,a)._f&&m(s,a)._f.disabled);if(!u||h){p.isDirty&&(v=t.isDirty,t.isDirty=_.isDirty=w(),f=v!==_.isDirty);const T=R||ne(m(i,a),l);v=!!(!R&&m(t.dirtyFields,a)),T||R?k(t.dirtyFields,a):E(t.dirtyFields,a,!0),_.dirtyFields=t.dirtyFields,f=f||p.dirtyFields&&v!==!T}if(u){const T=m(t.touchedFields,a);T||(E(t.touchedFields,a,u),_.touchedFields=t.touchedFields,f=f||p.touchedFields&&T!==u)}f&&g&&x.state.next(_)}return f?_:{}},De=(a,l,u,h)=>{const g=m(t.errors,a),f=p.isValid&&G(l)&&t.isValid!==l;if(r.delayError&&u?(y=O(()=>J(a,u)),y(r.delayError)):(clearTimeout(b),y=null,u?E(t.errors,a,u):k(t.errors,a)),(u?!ne(g,u):g)||!B(h)||f){const v={...h,...f&&G(l)?{isValid:l}:{},errors:t.errors,name:a};t={...t,...v},x.state.next(v)}},oe=async a=>{re(a,!0);const l=await r.resolver(o,r.context,os(a||d.mount,s,r.criteriaMode,r.shouldUseNativeValidation));return re(a),l},fe=async a=>{const{errors:l}=await oe(a);if(a)for(const u of a){const h=m(l,u);h?E(t.errors,u,h):k(t.errors,u)}else t.errors=l;return l},$=async(a,l,u={valid:!0})=>{for(const h in a){const g=a[h];if(g){const{_f:f,...v}=g;if(f){const _=d.array.has(f.name),R=g._f&&ls(g._f);R&&p.validatingFields&&re([h],!0);const T=await At(g,d.disabled,o,L,r.shouldUseNativeValidation&&!l,_);if(R&&p.validatingFields&&re([h]),T[f.name]&&(u.valid=!1,l))break;!l&&(m(T,f.name)?_?ss(t.errors,T,f.name):E(t.errors,f.name,T[f.name]):k(t.errors,f.name))}!B(v)&&await $(v,l,u)}}return u.valid},Ae=()=>{for(const a of d.unMount){const l=m(s,a);l&&(l._f.refs?l._f.refs.every(u=>!$e(u)):!$e(l._f.ref))&&Oe(a)}d.unMount=new Set},w=(a,l)=>!r.disabled&&(a&&l&&E(o,a,l),!ne(lt(),i)),D=(a,l,u)=>zt(a,d,{...c.mount?o:S(l)?i:Y(a)?{[a]:l}:l},u,l),P=a=>Ie(m(c.mount?o:i,a,r.shouldUnregister?m(i,a,[]):[])),I=(a,l,u={})=>{const h=m(s,a);let g=l;if(h){const f=h._f;f&&(!f.disabled&&E(o,a,Yt(l,f)),g=Se(f.ref)&&M(l)?"":l,Zt(f.ref)?[...f.ref.options].forEach(v=>v.selected=g.includes(v.value)):f.refs?Fe(f.ref)?f.refs.length>1?f.refs.forEach(v=>(!v.defaultChecked||!v.disabled)&&(v.checked=Array.isArray(g)?!!g.find(_=>_===v.value):g===v.value)):f.refs[0]&&(f.refs[0].checked=!!g):f.refs.forEach(v=>v.checked=v.value===g):et(f.ref)?f.ref.value="":(f.ref.value=g,f.ref.type||x.values.next({name:a,values:{...o}})))}(u.shouldDirty||u.shouldTouch)&&de(a,g,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&ve(a)},H=(a,l,u)=>{for(const h in l){const g=l[h],f=`${a}.${h}`,v=m(s,f);(d.array.has(a)||V(g)||v&&!v._f)&&!ue(g)?H(f,g,u):I(f,g,u)}},z=(a,l,u={})=>{const h=m(s,a),g=d.array.has(a),f=U(l);E(o,a,f),g?(x.array.next({name:a,values:{...o}}),(p.isDirty||p.dirtyFields)&&u.shouldDirty&&x.state.next({name:a,dirtyFields:pe(i,o),isDirty:w(a,f)})):h&&!h._f&&!M(f)?H(a,f,u):I(a,f,u),_t(a,d)&&x.state.next({...t}),x.values.next({name:c.mount?a:void 0,values:{...o}})},ye=async a=>{c.mount=!0;const l=a.target;let u=l.name,h=!0;const g=m(s,u),f=()=>l.type?ze(g._f):Mt(a),v=_=>{h=Number.isNaN(_)||ue(_)&&isNaN(_.getTime())||ne(_,m(o,u,_))};if(g){let _,R;const T=f(),se=a.type===Ne.BLUR||a.type===Ne.FOCUS_OUT,_r=!us(g._f)&&!r.resolver&&!m(t.errors,u)&&!g._f.deps||cs(se,m(t.touchedFields,u),t.isSubmitted,W,N),Ue=_t(u,d,se);E(o,u,T),se?(g._f.onBlur&&g._f.onBlur(a),y&&y(0)):g._f.onChange&&g._f.onChange(a);const Be=de(u,T,se,!1),wr=!B(Be)||Ue;if(!se&&x.values.next({name:u,type:a.type,values:{...o}}),_r)return p.isValid&&(r.mode==="onBlur"&&se?q():se||q()),wr&&x.state.next({name:u,...Ue?{}:Be});if(!se&&Ue&&x.state.next({...t}),r.resolver){const{errors:yt}=await oe([u]);if(v(T),h){const jr=Nt(t.errors,s,u),xt=Nt(yt,s,jr.name||u);_=xt.error,u=xt.name,R=B(yt)}}else re([u],!0),_=(await At(g,d.disabled,o,L,r.shouldUseNativeValidation))[u],re([u]),v(T),h&&(_?R=!1:p.isValid&&(R=await $(s,!0)));h&&(g._f.deps&&ve(g._f.deps),De(u,R,_,Be))}},xe=(a,l)=>{if(m(t.errors,l)&&a.focus)return a.focus(),1},ve=async(a,l={})=>{let u,h;const g=we(a);if(r.resolver){const f=await fe(S(a)?a:g);u=B(f),h=a?!g.some(v=>m(f,v)):u}else a?(h=(await Promise.all(g.map(async f=>{const v=m(s,f);return await $(v&&v._f?{[f]:v}:v)}))).every(Boolean),!(!h&&!t.isValid)&&q()):h=u=await $(s);return x.state.next({...!Y(a)||p.isValid&&u!==t.isValid?{}:{name:a},...r.resolver||!a?{isValid:u}:{},errors:t.errors}),l.shouldFocus&&!h&&je(s,xe,a?g:d.mount),h},lt=a=>{const l={...c.mount?o:i};return S(a)?l:Y(a)?m(l,a):a.map(u=>m(l,u))},ut=(a,l)=>({invalid:!!m((l||t).errors,a),isDirty:!!m((l||t).dirtyFields,a),error:m((l||t).errors,a),isValidating:!!m(t.validatingFields,a),isTouched:!!m((l||t).touchedFields,a)}),xr=a=>{a&&we(a).forEach(l=>k(t.errors,l)),x.state.next({errors:a?t.errors:{}})},ct=(a,l,u)=>{const h=(m(s,a,{_f:{}})._f||{}).ref,g=m(t.errors,a)||{},{ref:f,message:v,type:_,...R}=g;E(t.errors,a,{...R,...l,ref:h}),x.state.next({name:a,errors:t.errors,isValid:!1}),u&&u.shouldFocus&&h&&h.focus&&h.focus()},vr=(a,l)=>X(a)?x.values.subscribe({next:u=>a(D(void 0,l),u)}):D(a,l,!0),Oe=(a,l={})=>{for(const u of a?we(a):d.mount)d.mount.delete(u),d.array.delete(u),l.keepValue||(k(s,u),k(o,u)),!l.keepError&&k(t.errors,u),!l.keepDirty&&k(t.dirtyFields,u),!l.keepTouched&&k(t.touchedFields,u),!l.keepIsValidating&&k(t.validatingFields,u),!r.shouldUnregister&&!l.keepDefaultValue&&k(i,u);x.values.next({values:{...o}}),x.state.next({...t,...l.keepDirty?{isDirty:w()}:{}}),!l.keepIsValid&&q()},dt=({disabled:a,name:l,field:u,fields:h})=>{(G(a)&&c.mount||a||d.disabled.has(l))&&(a?d.disabled.add(l):d.disabled.delete(l),de(l,ze(u?u._f:m(h,l)._f),!1,!1,!0))},Me=(a,l={})=>{let u=m(s,a);const h=G(l.disabled)||G(r.disabled);return E(s,a,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:a}},name:a,mount:!0,...l}}),d.mount.add(a),u?dt({field:u,disabled:G(l.disabled)?l.disabled:r.disabled,name:a}):C(a,!0,l.value),{...h?{disabled:l.disabled||r.disabled}:{},...r.progressive?{required:!!l.required,min:be(l.min),max:be(l.max),minLength:be(l.minLength),maxLength:be(l.maxLength),pattern:be(l.pattern)}:{},name:a,onChange:ye,onBlur:ye,ref:g=>{if(g){Me(a,l),u=m(s,a);const f=S(g.value)&&g.querySelectorAll&&g.querySelectorAll("input,select,textarea")[0]||g,v=ns(f),_=u._f.refs||[];if(v?_.find(R=>R===f):f===u._f.ref)return;E(s,a,{_f:{...u._f,...v?{refs:[..._.filter($e),f,...Array.isArray(m(i,a))?[{}]:[]],ref:{type:f.type,name:a}}:{ref:f}}}),C(a,!1,void 0,f)}else u=m(s,a,{}),u._f&&(u._f.mount=!1),(r.shouldUnregister||l.shouldUnregister)&&!(Ut(d.array,a)&&c.action)&&d.unMount.add(a)}}},ft=()=>r.shouldFocusError&&je(s,xe,d.mount),pr=a=>{G(a)&&(x.state.next({disabled:a}),je(s,(l,u)=>{const h=m(s,u);h&&(l.disabled=h._f.disabled||a,Array.isArray(h._f.refs)&&h._f.refs.forEach(g=>{g.disabled=h._f.disabled||a}))},0,!1))},gt=(a,l)=>async u=>{let h;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let g=U(o);if(d.disabled.size)for(const f of d.disabled)E(g,f,void 0);if(x.state.next({isSubmitting:!0}),r.resolver){const{errors:f,values:v}=await oe();t.errors=f,g=v}else await $(s);if(k(t.errors,"root"),B(t.errors)){x.state.next({errors:{}});try{await a(g,u)}catch(f){h=f}}else l&&await l({...t.errors},u),ft(),setTimeout(ft);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:B(t.errors)&&!h,submitCount:t.submitCount+1,errors:t.errors}),h)throw h},br=(a,l={})=>{m(s,a)&&(S(l.defaultValue)?z(a,U(m(i,a))):(z(a,l.defaultValue),E(i,a,U(l.defaultValue))),l.keepTouched||k(t.touchedFields,a),l.keepDirty||(k(t.dirtyFields,a),t.isDirty=l.defaultValue?w(a,U(m(i,a))):w()),l.keepError||(k(t.errors,a),p.isValid&&q()),x.state.next({...t}))},mt=(a,l={})=>{const u=a?U(a):i,h=U(u),g=B(a),f=g?i:h;if(l.keepDefaultValues||(i=u),!l.keepValues){if(l.keepDirtyValues){const v=new Set([...d.mount,...Object.keys(pe(i,o))]);for(const _ of Array.from(v))m(t.dirtyFields,_)?E(f,_,m(o,_)):z(_,m(f,_))}else{if(Xe&&S(a))for(const v of d.mount){const _=m(s,v);if(_&&_._f){const R=Array.isArray(_._f.refs)?_._f.refs[0]:_._f.ref;if(Se(R)){const T=R.closest("form");if(T){T.reset();break}}}}s={}}o=r.shouldUnregister?l.keepDefaultValues?U(i):{}:U(f),x.array.next({values:{...f}}),x.values.next({values:{...f}})}d={mount:l.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!p.isValid||!!l.keepIsValid||!!l.keepDirtyValues,c.watch=!!r.shouldUnregister,x.state.next({submitCount:l.keepSubmitCount?t.submitCount:0,isDirty:g?!1:l.keepDirty?t.isDirty:!!(l.keepDefaultValues&&!ne(a,i)),isSubmitted:l.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:g?{}:l.keepDirtyValues?l.keepDefaultValues&&o?pe(i,o):t.dirtyFields:l.keepDefaultValues&&a?pe(i,a):l.keepDirty?t.dirtyFields:{},touchedFields:l.keepTouched?t.touchedFields:{},errors:l.keepErrors?t.errors:{},isSubmitSuccessful:l.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},ht=(a,l)=>mt(X(a)?a(o):a,l);return{control:{register:Me,unregister:Oe,getFieldState:ut,handleSubmit:gt,setError:ct,_executeSchema:oe,_getWatch:D,_getDirty:w,_updateValid:q,_removeUnmounted:Ae,_updateFieldArray:F,_updateDisabledField:dt,_getFieldArray:P,_reset:mt,_resetDefaultValues:()=>X(r.defaultValues)&&r.defaultValues().then(a=>{ht(a,r.resetOptions),x.state.next({isLoading:!1})}),_updateFormState:a=>{t={...t,...a}},_disableForm:pr,_subjects:x,_proxyFormState:p,_setErrors:Q,get _fields(){return s},get _formValues(){return o},get _state(){return c},set _state(a){c=a},get _defaultValues(){return i},get _names(){return d},set _names(a){d=a},get _formState(){return t},set _formState(a){t=a},get _options(){return r},set _options(a){r={...r,...a}}},trigger:ve,register:Me,handleSubmit:gt,watch:vr,setValue:z,getValues:lt,reset:ht,resetField:br,clearErrors:xr,unregister:Oe,setError:ct,setFocus:(a,l={})=>{const u=m(s,a),h=u&&u._f;if(h){const g=h.refs?h.refs[0]:h.ref;g.focus&&(g.focus(),l.shouldSelect&&X(g.select)&&g.select())}},getFieldState:ut}}function rt(e={}){const r=A.useRef(void 0),t=A.useRef(void 0),[s,i]=A.useState({isDirty:!1,isValidating:!1,isLoading:X(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:X(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...gs(e),formState:s});const o=r.current.control;return o._options=e,Qe({subject:o._subjects.state,next:c=>{Wt(c,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),A.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),A.useEffect(()=>{if(o._proxyFormState.isDirty){const c=o._getDirty();c!==s.isDirty&&o._subjects.state.next({isDirty:c})}},[o,s.isDirty]),A.useEffect(()=>{e.values&&!ne(e.values,t.current)?(o._reset(e.values,o._options.resetOptions),t.current=e.values,i(c=>({...c}))):o._resetDefaultValues()},[e.values,o]),A.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),A.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),A.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),r.current.formState=qt(s,o),r.current}var ms="Label",Jt=j.forwardRef((e,r)=>n.jsx(he.label,{...e,ref:r,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Jt.displayName=ms;var hs=Jt;function le({className:e,...r}){return n.jsx(hs,{"data-slot":"label",className:te("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}var st="Dialog",[Qt,ea]=Dr(st),[ys,K]=Qt(st),er=e=>{const{__scopeDialog:r,children:t,open:s,defaultOpen:i,onOpenChange:o,modal:c=!0}=e,d=j.useRef(null),y=j.useRef(null),[b=!1,p]=Fr({prop:s,defaultProp:i,onChange:o});return n.jsx(ys,{scope:r,triggerRef:d,contentRef:y,contentId:qe(),titleId:qe(),descriptionId:qe(),open:b,onOpenChange:p,onOpenToggle:j.useCallback(()=>p(x=>!x),[p]),modal:c,children:t})};er.displayName=st;var tr="DialogTrigger",rr=j.forwardRef((e,r)=>{const{__scopeDialog:t,...s}=e,i=K(tr,t),o=He(r,i.triggerRef);return n.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":nt(i.open),...s,ref:o,onClick:_e(e.onClick,i.onOpenToggle)})});rr.displayName=tr;var at="DialogPortal",[xs,sr]=Qt(at,{forceMount:void 0}),ar=e=>{const{__scopeDialog:r,forceMount:t,children:s,container:i}=e,o=K(at,r);return n.jsx(xs,{scope:r,forceMount:t,children:j.Children.map(s,c=>n.jsx(Ze,{present:t||o.open,children:n.jsx(Ar,{asChild:!0,container:i,children:c})}))})};ar.displayName=at;var Pe="DialogOverlay",ir=j.forwardRef((e,r)=>{const t=sr(Pe,e.__scopeDialog),{forceMount:s=t.forceMount,...i}=e,o=K(Pe,e.__scopeDialog);return o.modal?n.jsx(Ze,{present:s||o.open,children:n.jsx(vs,{...i,ref:r})}):null});ir.displayName=Pe;var vs=j.forwardRef((e,r)=>{const{__scopeDialog:t,...s}=e,i=K(Pe,t);return n.jsx(Nr,{as:Sr,allowPinchZoom:!0,shards:[i.contentRef],children:n.jsx(he.div,{"data-state":nt(i.open),...s,ref:r,style:{pointerEvents:"auto",...s.style}})})}),ce="DialogContent",nr=j.forwardRef((e,r)=>{const t=sr(ce,e.__scopeDialog),{forceMount:s=t.forceMount,...i}=e,o=K(ce,e.__scopeDialog);return n.jsx(Ze,{present:s||o.open,children:o.modal?n.jsx(ps,{...i,ref:r}):n.jsx(bs,{...i,ref:r})})});nr.displayName=ce;var ps=j.forwardRef((e,r)=>{const t=K(ce,e.__scopeDialog),s=j.useRef(null),i=He(r,t.contentRef,s);return j.useEffect(()=>{const o=s.current;if(o)return Er(o)},[]),n.jsx(or,{...e,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=t.triggerRef.current)==null||c.focus()}),onPointerDownOutside:_e(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:_e(e.onFocusOutside,o=>o.preventDefault())})}),bs=j.forwardRef((e,r)=>{const t=K(ce,e.__scopeDialog),s=j.useRef(!1),i=j.useRef(!1);return n.jsx(or,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(s.current||(d=t.triggerRef.current)==null||d.focus(),o.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:o=>{var y,b;(y=e.onInteractOutside)==null||y.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((b=t.triggerRef.current)==null?void 0:b.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),or=j.forwardRef((e,r)=>{const{__scopeDialog:t,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,...c}=e,d=K(ce,t),y=j.useRef(null),b=He(r,y);return Vr(),n.jsxs(n.Fragment,{children:[n.jsx(Cr,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:o,children:n.jsx(Pr,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":nt(d.open),...c,ref:b,onDismiss:()=>d.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(_s,{titleId:d.titleId}),n.jsx(js,{contentRef:y,descriptionId:d.descriptionId})]})]})}),it="DialogTitle",lr=j.forwardRef((e,r)=>{const{__scopeDialog:t,...s}=e,i=K(it,t);return n.jsx(he.h2,{id:i.titleId,...s,ref:r})});lr.displayName=it;var ur="DialogDescription",cr=j.forwardRef((e,r)=>{const{__scopeDialog:t,...s}=e,i=K(ur,t);return n.jsx(he.p,{id:i.descriptionId,...s,ref:r})});cr.displayName=ur;var dr="DialogClose",fr=j.forwardRef((e,r)=>{const{__scopeDialog:t,...s}=e,i=K(dr,t);return n.jsx(he.button,{type:"button",...s,ref:r,onClick:_e(e.onClick,()=>i.onOpenChange(!1))})});fr.displayName=dr;function nt(e){return e?"open":"closed"}var gr="DialogTitleWarning",[ta,mr]=kr(gr,{contentName:ce,titleName:it,docsSlug:"dialog"}),_s=({titleId:e})=>{const r=mr(gr),t=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},ws="DialogDescriptionWarning",js=({contentRef:e,descriptionId:r})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${mr(ws).contentName}}.`;return j.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");r&&i&&(document.getElementById(r)||console.warn(s))},[s,e,r]),null},Fs=er,Ds=rr,As=ar,Es=ir,Ns=nr,Ss=lr,Vs=cr,hr=fr;function Cs({...e}){return n.jsx(Fs,{"data-slot":"dialog",...e})}function Ps({...e}){return n.jsx(Ds,{"data-slot":"dialog-trigger",...e})}function ks({...e}){return n.jsx(As,{"data-slot":"dialog-portal",...e})}function Rs({...e}){return n.jsx(hr,{"data-slot":"dialog-close",...e})}function Ts({className:e,...r}){return n.jsx(Es,{"data-slot":"dialog-overlay",className:te("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",e),...r})}function Ls({className:e,children:r,...t}){return n.jsxs(ks,{"data-slot":"dialog-portal",children:[n.jsx(Ts,{}),n.jsxs(Ns,{"data-slot":"dialog-content",className:te("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t,children:[r,n.jsxs(hr,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[n.jsx(Kr,{}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function St({className:e,...r}){return n.jsx("div",{"data-slot":"dialog-header",className:te("flex flex-col gap-2 text-center sm:text-left",e),...r})}function Vt({className:e,...r}){return n.jsx("div",{"data-slot":"dialog-footer",className:te("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...r})}function Ct({className:e,...r}){return n.jsx(Ss,{"data-slot":"dialog-title",className:te("text-lg leading-none font-semibold",e),...r})}function Pt({className:e,...r}){return n.jsx(Vs,{"data-slot":"dialog-description",className:te("text-muted-foreground text-sm",e),...r})}const ot=e=>{switch(e){case"auth/email-already-in-use":return"This email is already in use. Please try another one";case"auth/weak-password":return"Password should be at least 6 characters";case"auth/user-not-found":return"No user found with this email address. Please sign up for an account";case"auth/invalid-credential":return"Invalid credentials. Please try again";case"auth/wrong-password":return"Incorrect password. Please try again";case"auth/too-many-requests":return"Too many login attempts. Please try again later";default:return"An error occurred. Please try again"}},Is=()=>{const[e,r]=j.useState(!1),[t,s]=j.useState(null),i=ke();return{loading:e,error:t,handleEmailLogin:async c=>{try{const{email:d,password:y}=c,x=await(await Tr(Re,d,y)).user.getIdToken();Ke.set("auth_token",x,{expires:30,secure:!0}),i("/organizer")}catch(d){d instanceof Te?(console.error("Firebase error:",d.message),s(ot(d.code))):d instanceof Error?(console.error("Error:",d.message),s("An error occurred, please try again")):(console.error("An unknown error occurred",d),s("Something went wrong. Please try again later."))}finally{r(!1)}}}},Os=()=>{const[e,r]=j.useState(!1),[t,s]=j.useState(null),i=ke();return{loading:e,error:t,handleEmailSignup:async c=>{r(!0),s(null);const{email:d,password:y,firstName:b,lastName:p}=c;try{const N=(await Lr(Re,d,y)).user;await Ir(Or(Mr,"organizers",N.uid),{userId:N.uid,email:N.email,firstName:b,lastName:p,createdAt:new Date});const W=await N.getIdToken();Ke.set("auth_token",W,{expires:30}),i("/organizer")}catch(x){x instanceof Te?(console.error("Firebase error:",x.message),s(ot(x.code))):x instanceof Error?(console.error("Error:",x.message),s("An error occurred, please try again")):(console.error("An unknown error occurred",x),s("Something went wrong. Please try again later."))}finally{r(!1)}}}},Ms=()=>{const[e,r]=j.useState(!1),[t,s]=j.useState(null),[i,o]=j.useState(!1),c=ke();return{loading:e,error:t,success:i,handleGoogleLogin:async()=>{r(!0),s(null);const y=new Ur;try{const p=(await Br(Re,y)).user;if(p.uid){const N=await p.getIdToken();Ke.set("auth_token",N,{expires:30,secure:!0}),o(!0),c("/organizer")}}catch(b){b instanceof Te?(console.error("Firebase error:",b.message),s("Failed to log in with Google, please try again")):b instanceof Error?(console.error("Error:",b.message),s("An error occurred, please try again")):(console.error("An unknown error occurred",b),s("Something went wrong. Please try again later."))}finally{r(!1)}}}},Us=()=>{const[e,r]=j.useState(null),[t,s]=j.useState(!1),i=ke();return{loading:t,error:e,handlePasswordResetEmail:async c=>{const{email:d}=c;try{s(!0),r(null),await qr(Re,d),i("/login")}catch(y){y instanceof Te?r(ot(y.code)):r("An unexpected error occurred. Please try again"),console.error("Error:",y)}finally{s(!1)}}}},Bs=()=>{const{control:e,handleSubmit:r,formState:{errors:t}}=rt(),{loading:s,error:i,handlePasswordResetEmail:o}=Us(),[c,d]=j.useState(!1),y=async p=>{await o(p),d(!0),console.log("Reset email sent to:",p.email)},b=p=>{p.stopPropagation(),r(y)(p)};return n.jsxs(Cs,{children:[n.jsx(Ps,{asChild:!0,children:n.jsx(me,{variant:"link",children:"Forgot your password?"})}),n.jsx(Ls,{className:"sm:max-w-[425px]",children:c?n.jsxs(n.Fragment,{children:[n.jsxs(St,{children:[n.jsx(Ct,{children:"Reset Password"}),n.jsx(Pt,{children:"Check your inbox for a password reset email!"})]}),n.jsx(Vt,{children:n.jsx(Rs,{asChild:!0,children:n.jsx(me,{variant:"ghost",children:"Close"})})})]}):n.jsxs(n.Fragment,{children:[n.jsxs(St,{children:[n.jsx(Ct,{children:"Reset Password"}),n.jsx(Pt,{children:"Enter your registered email for a password reset"})]}),n.jsxs("form",{onSubmit:b,children:[n.jsxs("div",{className:"items-center mb-4",children:[n.jsx(ie,{name:"email",control:e,defaultValue:"",rules:{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,message:"Invalid email address"}},render:({field:p})=>n.jsx(ae,{...p,id:"email",placeholder:"Email"})}),t.email&&n.jsx("p",{className:"text-red-500 text-sm text-start mt-2",children:t.email.message})]}),i&&n.jsx("p",{className:"text-red-500 text-sm text-start mt-2",children:i}),n.jsx(Vt,{children:n.jsx(me,{type:"submit",children:s?n.jsxs(n.Fragment,{children:[n.jsx(Le,{className:"animate-spin"}),"Please wait"]}):"Send Reset Email"})})]})]})})]})},qs=()=>{const{control:e,handleSubmit:r,formState:{errors:t}}=rt(),{loading:s,error:i,handleEmailLogin:o}=Is(),c=async d=>{await o(d)};return n.jsx("form",{onSubmit:r(c),children:n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(le,{htmlFor:"email",children:"Email"}),n.jsx(ie,{name:"email",control:e,defaultValue:"",rules:{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,message:"Invalid email address"}},render:({field:d})=>n.jsx(ae,{...d,id:"email",type:"email",placeholder:"m@example.com",required:!0})}),t.email&&n.jsx("p",{className:"text-red-500 text-sm text-start",children:t.email.message})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(le,{htmlFor:"password",children:"Password"}),n.jsx(Bs,{})]}),n.jsx(ie,{name:"password",control:e,defaultValue:"",rules:{required:"Password is required"},render:({field:d})=>n.jsx(ae,{...d,id:"password",type:"password",required:!0})}),t.password&&n.jsx("p",{className:"text-red-500 text-sm text-start",children:t.password.message})]}),n.jsx(me,{type:"submit",className:"w-full",disabled:s,children:s?n.jsxs(n.Fragment,{children:[n.jsx(Le,{className:"animate-spin"}),"Please wait"]}):"Login"}),i&&n.jsx("p",{className:"text-red-500 text-start mt-2",children:i})]})})},Ws=({...e})=>{const{theme:r="system"}=Wr();return n.jsx($r,{theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground font-medium",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground font-medium"}},...e})},yr=()=>{const{loading:e,error:r,success:t,handleGoogleLogin:s}=Ms();return n.jsxs(n.Fragment,{children:[n.jsx(me,{variant:"outline",disabled:e,className:"w-full",onClick:s,children:e?n.jsxs(n.Fragment,{children:[n.jsx(Le,{className:"animate-spin"}),"Please wait"]}):"Login with Google"}),n.jsx(Ws,{}),r&&n.jsx("p",{className:"text-red-500 text-center",children:r}),t&&n.jsx("p",{className:"text-green-500",children:"Successful! Redirecting..."})]})},$s=({className:e,...r})=>n.jsx("div",{className:te("flex flex-col gap-6",e),...r,children:n.jsxs(Rt,{children:[n.jsx(Tt,{children:n.jsx(Lt,{className:"text-2xl",children:"Login"})}),n.jsxs(It,{children:[n.jsx("div",{children:n.jsx(qs,{})}),n.jsx("div",{className:"mt-6",children:n.jsx(yr,{})})]})]})}),zs=()=>{const{control:e,handleSubmit:r,getValues:t,formState:{errors:s}}=rt(),{loading:i,error:o,handleEmailSignup:c}=Os(),d=async y=>{await c(y)};return n.jsx("form",{onSubmit:r(d),children:n.jsxs("div",{className:"w-full grid gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(le,{htmlFor:"email",children:"Email"}),n.jsx(ie,{name:"email",control:e,defaultValue:"",rules:{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,message:"Invalid email address"}},render:({field:y})=>n.jsx(ae,{...y,id:"email",type:"email",placeholder:"m@example.com",required:!0})}),s.email&&n.jsx("p",{className:"text-red-500 text-sm",children:s.email.message})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(le,{htmlFor:"firstName",children:"First Name"}),n.jsx(ie,{name:"firstName",control:e,render:({field:y})=>n.jsx(ae,{...y,id:"firstName",type:"text",placeholder:"John",required:!0})}),s.firstName&&n.jsx("p",{className:"text-red-500 text-sm",children:s.firstName.message})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(le,{htmlFor:"lastName",children:"Last Name"}),n.jsx(ie,{name:"lastName",control:e,render:({field:y})=>n.jsx(ae,{...y,id:"lastName",type:"text",placeholder:"Doe",required:!0})}),s.lastName&&n.jsx("p",{className:"text-red-500 text-sm",children:s.lastName.message})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(le,{htmlFor:"password",children:"Password"}),n.jsx(ie,{name:"password",control:e,defaultValue:"",rules:{required:"Password is required"},render:({field:y})=>n.jsx(ae,{...y,id:"password",type:"password",required:!0})}),s.password&&n.jsx("p",{className:"text-red-500 text-sm",children:s.password.message})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(le,{htmlFor:"confirmPassword",children:"Confirm Password"}),n.jsx(ie,{name:"confirmPassword",control:e,defaultValue:"",rules:{required:"Please confirm your password",validate:y=>{const{password:b}=t();return y===b||"Passwords do not match"}},render:({field:y})=>n.jsx(ae,{...y,id:"confirmPassword",type:"password",required:!0})}),s.confirmPassword&&n.jsx("p",{className:"text-red-500 text-sm text-start",children:s.confirmPassword.message})]}),n.jsx(me,{type:"submit",className:"w-full",disabled:i,children:i?n.jsxs(n.Fragment,{children:[n.jsx(Le,{className:"animate-spin"}),"Please wait"]}):"Sign Up"}),o&&n.jsx("p",{className:"text-red-500 text-sm text-start mt-2",children:o})]})})},Gs=({className:e,...r})=>n.jsx("div",{className:te("flex flex-col gap-6",e),...r,children:n.jsxs(Rt,{children:[n.jsx(Tt,{children:n.jsx(Lt,{className:"text-2xl",children:"Sign Up"})}),n.jsxs(It,{children:[n.jsx("div",{children:n.jsx(zs,{})}),n.jsx("div",{className:"mt-6",children:n.jsx(yr,{})})]})]})});function Hs(){return n.jsx("div",{className:"flex min-h-full w-full items-center justify-center p-10 max-sm:p-4",children:n.jsx("div",{className:"w-full max-w-sm",children:n.jsxs(zr,{defaultValue:"login",className:"w-full",children:[n.jsxs(Gr,{className:"grid w-full grid-cols-2",children:[n.jsx(vt,{value:"login",children:"Log in"}),n.jsx(vt,{value:"signup",children:"Sign up"})]}),n.jsx(pt,{value:"login",children:n.jsx($s,{})}),n.jsx(pt,{value:"signup",children:n.jsx(Gs,{})})]})})})}function ra(){return n.jsxs("div",{children:[n.jsx(Rr,{}),n.jsx(Hs,{})]})}export{ra as default};
