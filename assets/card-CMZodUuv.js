import{j as e,S as M,K as O,M as P,N as R,O as V,Q as H,U,W as F,X as Y,Y as W,Z as X,_ as L,$ as Z,a0 as q,a1 as K,a2 as Q,a3 as G,a4 as J,a5 as ee,a6 as te,a7 as T,a8 as ae,a9 as se,aa as ne,ab as oe,ac as re,ad as ie,t as le,ae as de,af as ce,ag as ue,ah as ge,ai as xe,r as d,u as fe}from"./react-GXTH3AUW.js";import{Y as me,Z as pe,W as he}from"./vendor-BDfBbFA7.js";import{u as ve,L as je,d as w}from"./index-DdTYszON.js";import{c as C,d as N}from"./firebase-nofmxHfp.js";function s(...t){return me(pe(t))}const ye=he("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all duration-250 ease-in-out disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function f({className:t,variant:a,size:n,asChild:l=!1,...o}){const c=l?M:"button";return e.jsx(c,{"data-slot":"button",className:s(ye({variant:a,size:n,className:t})),...o})}function be({...t}){return e.jsx(O,{"data-slot":"dropdown-menu",...t})}function we({...t}){return e.jsx(P,{"data-slot":"dropdown-menu-trigger",...t})}function Ce({className:t,sideOffset:a=4,...n}){return e.jsx(R,{children:e.jsx(V,{"data-slot":"dropdown-menu-content",sideOffset:a,className:s("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function y({className:t,inset:a,variant:n="default",...l}){return e.jsx(H,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":n,className:s("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l})}function Ne(){const{setTheme:t}=ve();return e.jsxs(be,{children:[e.jsx(we,{asChild:!0,children:e.jsxs(f,{variant:"outline",size:"icon",children:[e.jsx(U,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(F,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),e.jsxs(Ce,{align:"end",children:[e.jsx(y,{onClick:()=>t("light"),children:"Light"}),e.jsx(y,{onClick:()=>t("dark"),children:"Dark"}),e.jsx(y,{onClick:()=>t("system"),children:"System"})]})]})}function Se({...t}){return e.jsx(Y,{"data-slot":"dialog",...t})}function ke({...t}){return e.jsx(W,{"data-slot":"dialog-trigger",...t})}function ze({...t}){return e.jsx(Q,{"data-slot":"dialog-portal",...t})}function He({...t}){return e.jsx(L,{"data-slot":"dialog-close",...t})}function De({className:t,...a}){return e.jsx(G,{"data-slot":"dialog-overlay",className:s("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",t),...a})}function _e({className:t,children:a,...n}){return e.jsxs(ze,{"data-slot":"dialog-portal",children:[e.jsx(De,{}),e.jsxs(X,{"data-slot":"dialog-content",className:s("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[a,e.jsxs(L,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(Z,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Le({className:t,...a}){return e.jsx("div",{"data-slot":"dialog-header",className:s("flex flex-col gap-2 text-center sm:text-left",t),...a})}function Te({className:t,...a}){return e.jsx("div",{"data-slot":"dialog-footer",className:s("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...a})}function Ee({className:t,...a}){return e.jsx(q,{"data-slot":"dialog-title",className:s("text-lg leading-none font-semibold",t),...a})}function $e({className:t,...a}){return e.jsx(K,{"data-slot":"dialog-description",className:s("text-muted-foreground text-sm",t),...a})}function S({...t}){return e.jsx(J,{"data-slot":"select",...t})}function k({...t}){return e.jsx(ae,{"data-slot":"select-value",...t})}function z({className:t,size:a="default",children:n,...l}){return e.jsxs(ee,{"data-slot":"select-trigger","data-size":a,className:s("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l,children:[n,e.jsx(te,{asChild:!0,children:e.jsx(T,{className:"size-4 opacity-50"})})]})}function D({className:t,children:a,position:n="popper",...l}){return e.jsx(se,{children:e.jsxs(ne,{"data-slot":"select-content",className:s("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...l,children:[e.jsx(Ae,{}),e.jsx(oe,{className:s("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),e.jsx(Be,{})]})})}function h({className:t,children:a,...n}){return e.jsxs(re,{"data-slot":"select-item",className:s("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(ie,{children:e.jsx(le,{className:"size-4"})})}),e.jsx(de,{children:a})]})}function Ae({className:t,...a}){return e.jsx(ce,{"data-slot":"select-scroll-up-button",className:s("flex cursor-default items-center justify-center py-1",t),...a,children:e.jsx(ue,{className:"size-4"})})}function Be({className:t,...a}){return e.jsx(ge,{"data-slot":"select-scroll-down-button",className:s("flex cursor-default items-center justify-center py-1",t),...a,children:e.jsx(T,{className:"size-4"})})}function _({className:t,...a}){return e.jsx(xe,{"data-slot":"label",className:s("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}const Ie=()=>{const t=d.useContext(je);if(!t)throw new Error("useLocation must be used within a LocationProvider");return t},Me=()=>{const[t,a]=d.useState([]),[n,l]=d.useState([]),[o,c]=d.useState("any"),[u,g]=d.useState("any"),[p,E]=d.useState(!0),[b,v]=d.useState(!1),{location:r,setLocation:$}=Ie();d.useEffect(()=>{r&&p&&c(r.state||"any")},[r,p]),d.useEffect(()=>{r&&(c(r.state||"any"),g(r.city??"any"))},[r,b]),d.useEffect(()=>{(async()=>{try{const m=(await C(N(w,"states"))).docs.map(j=>j.id);a(m)}catch(x){console.error("Error fetching states:",x.message)}})()},[]),d.useEffect(()=>{if(o==="any"){l([]),g("any");return}if(!o)return;(async()=>{try{const m=(await C(N(w,"states",o,"cities"))).docs.map(j=>j.id);l(m),p&&(r!=null&&r.city)&&m.includes(r.city)?g(r.city):(!(r!=null&&r.city)||!m.includes(r.city))&&g("any"),E(!1)}catch(x){console.error("Error fetching cities:",x)}})()},[p,r,o]);const A=()=>{const i=u==="any"?null:u;console.log("Selected location:",{state:o,city:i??"Any City"}),$({state:o,city:i??"Any City"}),v(!1)},B=()=>{c("any"),g("any"),l([])},I=()=>{const i=u==="any"||!u?"Any City":u,x=o==="any"||!o?"Any State":o;return i==="Any City"&&x==="Any State"?"Select Location":`${i}, ${x}`};return e.jsxs(Se,{open:b,onOpenChange:v,children:[e.jsx(ke,{asChild:!0,children:e.jsx(f,{variant:"outline",onClick:()=>v(!0),children:I()})}),e.jsxs(_e,{className:"sm:max-w-[425px]",children:[e.jsxs(Le,{children:[e.jsx(Ee,{children:"Select Location"}),e.jsx($e,{children:"Pick a location that has upcoming events on our platform"})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(_,{className:"text-right",children:"State"}),e.jsxs(S,{onValueChange:c,value:o,children:[e.jsx(z,{className:"col-span-3 w-full",children:e.jsx(k,{placeholder:"Select a state"})}),e.jsxs(D,{children:[e.jsx(h,{value:"any",children:"Any State"}),t.map(i=>e.jsx(h,{value:i,children:i},i))]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(_,{className:"text-right",children:"City"}),e.jsxs(S,{value:u,onValueChange:g,disabled:o==="any",children:[e.jsx(z,{className:"col-span-3 w-full",children:e.jsx(k,{placeholder:"Any City"})}),e.jsxs(D,{children:[e.jsx(h,{value:"any",children:"Any City"}),n.map(i=>e.jsx(h,{value:i,children:i},i))]})]})]})]}),e.jsxs(Te,{className:"flex justify-between w-full",children:[e.jsx(f,{type:"button",variant:"outline",onClick:B,children:"Clear Selection"}),e.jsx(f,{type:"button",disabled:!o,onClick:A,children:"Save changes"})]})]})]})},Ue=()=>{const[t,a]=d.useState(!1),n=d.useRef(null),l=fe();return d.useEffect(()=>{const o=()=>{var g;const c=((g=n.current)==null?void 0:g.offsetHeight)??0,u=window.scrollY;u>c&&!t?a(!0):u<=c&&t&&a(!1)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[t]),e.jsxs("div",{className:`sticky top-0 z-50 flex justify-between px-5 py-8 transition-all max-sm:flex-col gap-2 ${t?"bg-background/90 backdrop-blur":"bg-transparent"}`,style:{transitionDuration:".15s",transitionProperty:"background-color",transitionTimingFunction:"cubic-bezier(.4, 0, .2, 1)"},children:[e.jsx("h1",{className:"scroll-m-20 text-4xl font-bold tracking-tight lg:text-5xl",children:"Bailamos"}),e.jsxs("div",{className:"flex gap-2 max-sm:flex-col items-center",children:[e.jsxs("div",{className:"flex",children:[e.jsx(f,{variant:"ghost",onClick:()=>l("/"),children:"Home"}),e.jsx(f,{variant:"ghost",onClick:()=>l("/organizer"),children:"Organizer"})]}),e.jsx(Me,{}),e.jsx(Ne,{})]})]})};function Fe({className:t,...a}){return e.jsx("div",{"data-slot":"card",className:s("bg-card text-card-foreground flex flex-col gap-3 rounded-xl border py-6 shadow-sm",t),...a})}function Ye({className:t,...a}){return e.jsx("div",{"data-slot":"card-header",className:s("flex flex-col gap-1.5 px-6",t),...a})}function We({className:t,...a}){return e.jsx("div",{"data-slot":"card-title",className:s("leading-none font-semibold",t),...a})}function Xe({className:t,...a}){return e.jsx("div",{"data-slot":"card-description",className:s("text-muted-foreground text-sm",t),...a})}function Ze({className:t,...a}){return e.jsx("div",{"data-slot":"card-content",className:s("px-6",t),...a})}function qe({className:t,...a}){return e.jsx("div",{"data-slot":"card-footer",className:s("text-muted-foreground text-sm justify-center flex items-center px-6",t),...a})}export{f as B,Fe as C,Se as D,Ue as H,_ as L,S,z as a,ye as b,s as c,k as d,D as e,h as f,ke as g,_e as h,Le as i,Ee as j,Te as k,He as l,Ye as m,We as n,Ze as o,$e as p,qe as q,Xe as r};
